<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2023-06-16T14:06:52+08:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">haoruâ€™s blog</title><subtitle>From SJTU, SE&lt;br&gt;Use blog to record my learning progress and random thoughts.&lt;br&gt;Word is cheap, show me your code.</subtitle><author><name>haoru</name></author><entry><title type="html">æ‰¾å·¥è®°å½•</title><link href="http://localhost:4000/2023/06/15/%E6%89%BE%E5%B7%A5%E8%AE%B0%E5%BD%95.html" rel="alternate" type="text/html" title="æ‰¾å·¥è®°å½•" /><published>2023-06-15T00:00:00+08:00</published><updated>2023-06-15T00:00:00+08:00</updated><id>http://localhost:4000/2023/06/15/%E6%89%BE%E5%B7%A5%E8%AE%B0%E5%BD%95</id><content type="html" xml:base="http://localhost:4000/2023/06/15/%E6%89%BE%E5%B7%A5%E8%AE%B0%E5%BD%95.html"><![CDATA[<!--more-->]]></content><author><name>Haoru</name></author><category term="ç¢ç¢å¿µ" /><category term="æ‰¾å·¥ä½œ" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">å¤§ä¸‰æ€»ç»“</title><link href="http://localhost:4000/2023/06/14/%E5%A4%A7%E4%B8%89%E6%80%BB%E7%BB%93.html" rel="alternate" type="text/html" title="å¤§ä¸‰æ€»ç»“" /><published>2023-06-14T00:00:00+08:00</published><updated>2023-06-14T00:00:00+08:00</updated><id>http://localhost:4000/2023/06/14/%E5%A4%A7%E4%B8%89%E6%80%BB%E7%BB%93</id><content type="html" xml:base="http://localhost:4000/2023/06/14/%E5%A4%A7%E4%B8%89%E6%80%BB%E7%BB%93.html"><![CDATA[<!--more-->
<blockquote>
  <p>æˆ‘çƒ­çˆ±ä¸€åˆ‡ä¸å½»åº•çš„äº‹ç‰© ç¥ç€é‡Œçš„æ—¶é—´ å¾®æš—çš„ç« ä¸€ç”Ÿéƒ½åœ¨åŠé€”è€ŒåºŸ ä¸€ç”Ÿéƒ½æ€€æŠ±çƒ­æœ›</p>
</blockquote>

<p><br /></p>

<p>è½¬çœ¼é—´æ—¶é—´å°±æ¥åˆ°äº†å…­æœˆï¼Œå¤§ä¸‰ä¸€å¹´å³å°†ç»“æŸï¼Œè¿™æ˜¯å……æ»¡æœºé‡å’Œè½¬æŠ˜çš„ä¸€å¹´ï¼šè¿™ä¸€å¹´æˆ‘åšäº†å¾ˆå¤šå°è¯•ï¼ŒåŠªåŠ›æ‘†è„±ä»¥å¾€çº¿æ€§çš„æ€ç»´æ–¹å¼ï¼Œæ¢ç´¢æœªæ¥å¯èƒ½çš„å‘å±•æ–¹å‘ï¼ŒåŒæ—¶ä¹Ÿé­é‡äº†ä¸€äº›æŒ«æŠ˜çš„æ‰“å‡»ï¼Œå¯¼è‡´æœ€è¿‘ä¸€ä¸ªæœˆéƒ½å¤„åœ¨ä¸€ä¸ªæµ‘æµ‘å™©å™©ã€è‡ªæš´è‡ªå¼ƒçš„çŠ¶æ€ã€‚è°¨ä»¥æ­¤æ–‡è®°å½•æˆ‘ä¸€å¹´å¤šä»¥æ¥çš„æ€è€ƒå’Œç”Ÿæ´»ï¼Œæ­£å¥½æ•´ç†å¿ƒæƒ…ï¼Œé‡æ–°å‡ºå‘ã€‚</p>

<h2 id="part1-courses--exams">Part1: courses &amp; exams</h2>

<p>åœ¨å¤§ä¸‰åˆšåˆšå¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘é¡ºåˆ©æ‹¿åˆ°äº†ç¬¬äºŒæ¬¡å›½å¥–ï¼Œä¸åŒäºç¬¬ä¸€æ¬¡çš„æ¿€åŠ¨ï¼Œè¿™æ¬¡æˆ‘çš„å¿ƒæƒ…éå¸¸å¹³é™ã€‚ç»è¿‡å¤§äºŒè¿™ä¸€å¹´ï¼Œæˆ‘å·²ç»å¯¹äºå·æˆç»©ã€å·ç´ æ‹“æ„Ÿåˆ°ååˆ†åŒå€¦ï¼Œè€ƒè™‘åˆ°æœ¬ä¸“ä¸šè¾ƒç¦»è°±çš„å·åº¦ï¼ˆå¯èƒ½æ˜¯æˆ‘å¤ªèœï¼‰ï¼Œæƒ³è¦æ‹¿åˆ°ç¬¬ä¸‰å¹´çš„å›½å¥–ï¼Œå¯¹äºæˆ‘æ¥è¯´è¿˜æ˜¯è¦ä»˜å‡ºæ¯”è¾ƒå¤§çš„æ—¶é—´ç²¾åŠ›çš„ï¼ˆå°¤å…¶æ˜¯ç´ æ‹“ï¼‰ï¼Œå¹¶ä¸”æ‹¿å¾ˆå¤šå¹´å›½å¥–ä¹Ÿæ²¡å•¥ç”¨ï¼Œäºæ˜¯æˆ‘å†³å®šåœ¨åŸºæœ¬ç¨³ä½æˆç»©çš„åŒæ—¶å¤šå¹²äº›å…¶ä»–çš„äº‹æƒ…ã€‚</p>

<p>å¤§ä¸‰ä¸Šå­¦æœŸä»æ—§æ˜¯ç–«æƒ…æ—¶ä»£ï¼Œ2/3çš„æ—¶é—´åœ¨ä¸Šç½‘è¯¾ï¼Œå¯¹äºæˆ‘è¿™ç§é˜¿å®…æ¥è®²ï¼Œä¸Šç½‘è¯¾æ— ç–‘æ˜¯æå¤§åˆ©å¥½ï¼šä¸ç”¨é€šå‹¤ï¼Œå¯ä»¥ä¸å¬ç›´æ’­çœ‹å›æ”¾ï¼Œæ—¶é—´å®‰æ’çµæ´»è‡ªç”±ã€‚äºæ˜¯è¿™ä¸ªå­¦æœŸçš„è¯¾åŸºæœ¬ä¸Šéƒ½åˆ’æ°´åˆ’è¿‡å»äº†ï¼Œä½†æ˜¯å¸¸è¨€é“ï¼šâ€œå¸¸åœ¨æ²³è¾¹èµ°ï¼Œæ€èƒ½ä¸æ¹¿é‹â€ï¼Œè¿™ä¸ªå­¦æœŸç¾ç¾é”™è¿‡äº†chpè€å¸ˆçš„éšå ‚å°æµ‹ï¼Œè¿˜å‡ºç°äº†è€å¸ˆä¸Šè¯¾ç‚¹æˆ‘å›ç­”é—®é¢˜å«äº†å¥½å‡ éå‘ç°æˆ‘ä¸åœ¨çš„å°´å°¬ğŸ˜‡å±€é¢ã€‚</p>

<p>åˆ°äº†åäºŒæœˆä»½çš„æ—¶å€™æ”¾å¼€äº†ç–«æƒ…ç®¡æ§ï¼Œå­¦æ ¡å‡ºç°äº†æ„ŸæŸ“çš„é«˜å³°ï¼Œçœ‹ç€æ°´æºé‡Œé¢çš„ç—‡çŠ¶æè¿°æˆ‘æœ‰ç‚¹å®³æ€•ï¼Œäºæ˜¯å†³å®šæ¶¦å›å®¶ã€‚ç»“æœåœ¨è€ƒè¯•å‘¨å‰çš„ä¸€ä¸ªå‘¨æœ«ã€ä¹Ÿå°±æ˜¯å…ƒæ—¦é‚£å¤©å–œææ–°å† é˜³æ€§ï¼ˆåæ¥å¾—çŸ¥åšå®ˆå­¦æ ¡çš„å®¤å‹ä¸€ç›´æ²¡é˜³ğŸ¥²ï¼‰ï¼Œè€ƒcompilerçš„æ—¶å€™è¿˜åœ¨å‘çƒ§ã€‚ç”±äºä¸€ä¸ªå­¦æœŸçš„æ‘†çƒ‚ + è€ƒè¯•ç”Ÿç—…ï¼Œæœ€åæˆç»©å‡ºæ¥ä¸å¤ªå¥½ï¼ˆä¸è¿‡ä¹Ÿè¿˜è¡Œï¼‰ï¼Œäºæ˜¯ç—›å®šæ€ç—›å†³å®šä¸‹ä¸ªå­¦æœŸå¥½å¥½å­¦ä¹ ã€‚</p>

<p>ç»“æœåˆ°äº†å¤§ä¸‰ä¸‹è¿˜æ˜¯æ²¡æœ‰å¥½å¥½å­¦ä¹ ï¼Œè¿™å­¦æœŸè¯¾å°‘äº†ä¸€äº›ï¼Œç”±äºæˆ‘å†³å®šè¯•ç€æ‰¾æ‰¾å®ä¹ ï¼Œè¿™ä¸ªå­¦æœŸçš„è¯¾é™¤äº†OSä»¥å¤–ï¼Œå…¶ä»–çš„è¯¾åŸºæœ¬ä¸Šéƒ½æ‘¸è¿‡å»äº†ï¼ˆç”šè‡³æ¯”ä¸Šä¸ªå­¦æœŸæ‘¸å¾—æ›´å‰å®³ğŸ¤£ï¼‰ï¼Œè€ƒè¯•å‘¨å› ä¸ºå¿ƒæƒ…åŸå› æ›´æ˜¯åœ¨æ‘†çƒ‚ğŸ˜¢ã€‚</p>

<h2 id="part2-coding">Part2: coding</h2>

<p>è¿™ä¸€å¹´å†™çš„ä»£ç å¤§æ¦‚å¯ä»¥åˆ†ä¸ºå‡ ä¸ªéƒ¨åˆ†ï¼šlabs &amp; minik8sï¼Œjumpçš„projectï¼Œipadsçš„å®ä¹ project è¿˜æœ‰ leetcodeã€‚</p>

<p>å¤§ä¸‰ä¸Šå­¦æœŸçš„compilerå’ŒCHFSæ–‡ä»¶ç³»ç»Ÿï¼Œæ˜æ˜¾æ„Ÿè§‰è¦æ¯”å¤§äºŒä¸‹å­¦æœŸçš„labè¦éš¾ä¸Šä¸€äº›ï¼šcompileråé¢çš„å‡ æ¬¡è¿­ä»£éƒ½è¦èŠ±ä¸Šä¸‰å¤©ç”šè‡³æ›´é•¿çš„æ—¶é—´å»å®Œæˆï¼Œé€šè¿‡è¿™ä¸ªlabé¢å¤–æ”¶è·äº†ä¸€äº› modern C++ çš„è®­ç»ƒï¼›CHFSçš„éšæœºtestç»å¸¸è®©æˆ‘debugåˆ°äººææƒšï¼Œraftéƒ¨åˆ†æœ‰äº›éš¾ä½†æ˜¯æ”¶è·ä¹Ÿå¾ˆå¤§ï¼ˆæˆ‘è§‰å¾—CHFSç¡®å®æ˜¯å†™è¿‡æœ€æœ‰æ„æ€çš„è¯¾å†…labï¼‰ã€‚å¤§ä¸‰ä¸‹å­¦æœŸçš„chcoreå‹åŠ›å°±å°äº†å¾ˆå¤šï¼Œä½†æ˜¯éœ€è¦å†™æŠ¥å‘ŠğŸ‘¿ã€‚</p>

<p>9æœˆä»½å¼€å§‹å‚åŠ å’Œjumpåˆä½œçš„é¡¹ç›®ï¼Œå†™matching engine + rdmaä¼˜åŒ–ï¼ŒåŸºæœ¬ä¸Šåœ¨10æœˆä»½rushå®Œäº†matching engine + gatewayçš„é€»è¾‘ï¼Œè¯´å®è¯ï¼Œè¿™ä¸ªé¡¹ç›®æ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä»å¤´å¼€å§‹æ­C++é¡¹ç›®çš„æ¶æ„ï¼Œæœ€åå†™å‡ºæ¥æœ‰å¾ˆå¤šå†—ä½™çš„åœ°æ–¹ï¼Œå‡ºç°äº†æ— æ„ä¹‰çš„å¤šæ¬¡æ‹·è´ï¼Œåæ¥2æœˆä»½çš„æ—¶å€™åˆé‡æ„äº†ä¸€æ¬¡ï¼›11æœˆä¸­æ—¬çš„æ—¶å€™å¼€å§‹å°è¯•rdmaï¼Œrdmacmå’Œibverbsç¡®å®éå¸¸ä¸å¥½ç”¨ï¼Œç¿»éäº†GitHubï¼Œæœ€åæ‰¾åˆ°äº†ä¸€ä»½ä»£ç å¹¶æŠŠå®ƒæ”¹æˆäº†å¯ä»¥æ”¯æŒå¤šä¸ªclientå’Œå¤šæ¬¡ä¼ é€æ¶ˆæ¯çš„echoç‰ˆæœ¬ï¼Œä½†æ˜¯å‘ç°è¿˜æ˜¯å¾ˆéš¾åšåˆ°ioå¤šè·¯å¤ç”¨ï¼ˆè¿™ä¸ªç‰ˆæœ¬æœ€åç›´æ¥ç”¨åœ¨æœ€åçš„æµ‹è¯•ä»»åŠ¡ä¸Šäº†ï¼Œè¿˜æ˜¯ä¸ºæˆ‘ä»¬èŠ‚çœäº†ä¸€äº›æ—¶é—´ï¼‰ï¼Œæœ€åå†³å®šç”¨<code class="language-plaintext highlighter-rouge">socket like</code>çš„rsocketï¼Œäº‹æƒ…ä¸€ä¸‹å­å°±å˜å¾—ç®€å•äº†ã€‚</p>

<p>10æœˆä»½çš„æ—¶å€™é€šè¿‡äº†ipadsçš„é¢è¯•ï¼Œ11æœˆåº•çš„æ—¶å€™å¼€å§‹åšé¡¹ç›®ï¼Œå’Œyyè¿˜æœ‰æ²ˆå“¥ä¸€ç»„ï¼Œæˆ‘è´Ÿè´£å†™äº‘æœåŠ¡å™¨ä¸Šçš„éƒ¨åˆ†ï¼Œéš¾ç‚¹ä¸»è¦åœ¨foundationDBçš„SQLæ”¯æŒï¼ˆåŒæ—¶è¿˜è¦æ”¯æŒç´¢å¼•ï¼‰ï¼Œä¸€å¼€å§‹å›¾æ–¹ä¾¿ç”¨pythonçš„ç¬¬ä¸‰æ–¹åº“åšSQLè§£æï¼Œåæ¥è§‰å¾—è¿™æ ·å¯¹äºSQLçš„æ”¯æŒè¿˜æ˜¯å¤ªå·®ï¼Œäºæ˜¯å†³å®šç”¨javaé‡å†™æ•´ä¸ªé¡¹ç›®ï¼Œç”¨calciteåšfoundationDB sql adaptorï¼Œåæ¥åˆä»¿ç…§InfluxDBåšäº†æ—¶åºæ•°æ®åº“çš„ä¼˜åŒ–ï¼Œæœ¬æ¥æƒ³è¦åšæˆç±»ä¼¼æºç ä¸­java apiçš„é‚£ç§å½¢å¼ï¼Œå¯æ˜¯æœ€åè¿˜æ˜¯å·æ‡’ç”¨äº†grpcã€‚</p>

<p>åšå®Œipadsçš„é¡¹ç›®åï¼Œæˆ‘å’Œyyè¿˜æœ‰æ²ˆå“¥ä¸€èµ·å†™äº†äº‘OSçš„miniK8sï¼Œç»è¿‡å‰é¢ä¸‰å››ä¸ªæœˆçš„é…åˆï¼Œæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®çš„åˆä½œéå¸¸æ„‰å¿«ã€‚ä¸æ­¤åŒæ—¶ï¼Œç»è¿‡å‰é¢ä¸¤ä¸ªé¡¹ç›®çš„æ¯’æ‰“ï¼Œæˆ‘æ„Ÿè§‰k8så†™çš„è¿‡ç¨‹è¿˜æ˜¯æ¯”è¾ƒæµç•…è½»æ¾çš„ã€‚</p>

<p>è¿™ä¸€å¹´ä¸­ï¼Œæ–­æ–­ç»­ç»­åˆ·äº†ä¸å°‘leetcodeï¼Œå¤§ä¸‰ä¸Šå­¦æœŸå‡ºå»éš”ç¦»çš„æ—¶å€™ï¼Œä¸æƒ³å†™labå°±åœ¨åˆ·leetcodeï¼Œå¯’å‡ä¸æƒ³åšé¡¹ç›®çš„æ—¶å€™ä¹Ÿåœ¨åˆ·leetcodeï¼Œä¸å¾—ä¸è¯´åˆ·leetcodeæ˜¯ä¸€ä»¶éå¸¸è®©äººå®¹æ˜“å¿«é€Ÿè·å¾—æˆå°±æ„Ÿçš„äº‹æƒ…ã€‚3ã€4æœˆä»½çš„æ—¶å€™åœ¨æ‰¾å®ä¹ ï¼ŒåŸºæœ¬ä¸Šæ¯å¤©éƒ½åœ¨åšæŒåˆ·é¢˜ï¼Œåšé¢˜é‡åŸºæœ¬ä¸Šdoubleäº†ã€‚</p>

<h2 id="part3-future--thinking">Part3: future &amp; thinking</h2>

<p>åœ¨å¤§äºŒçš„æ—¶å€™ï¼Œæˆ‘å¯¹äºæœªæ¥çš„æœŸæœ›æ˜¯ç•™åœ¨ipadsè¯»ä¸ªç¡•å£«ï¼Œç¡•å£«æ¯•ä¸šä¹‹åæ‰¾ä»½å¤§å‚çš„å·¥ä½œã€‚22å¹´çš„æ˜¥æ‹›è®©æˆ‘æ„è¯†åˆ°äº†äº’è”ç½‘å¯’å†¬çš„å¨åŠ›ï¼Œä½†æ˜¯ä¹Ÿæƒ³ç€æ˜¯å…ˆè¯»ä¸ªç¡•å£«è§‚æœ›ä¸€ä¸‹ã€‚å¤§ä¸‰åˆšåˆšå¼€å§‹çš„æ—¶å€™ï¼Œä»»è€å¸ˆåœ¨ç¾¤é‡Œå‘äº†jumpçš„é¡¹ç›®ï¼Œwjrå’Œæˆ‘è¯´è¿™å¯èƒ½æ˜¯ä¸ªä¸é”™çš„æœºä¼šï¼Œäºæ˜¯æˆ‘ä¹Ÿå»è¯•ç€æŠ¥åäº†ï¼Œæ¥ä¸‹æ¥è·Ÿç€ä»»è€å¸ˆåšäº†å°†è¿‘åŠå¹´çš„é¡¹ç›®ï¼ˆè¿™ä¸ªé¡¹ç›®å®åœ¨æ˜¯æ‹–äº†å¤ªä¹…ï¼‰ï¼Œæƒ³ç€å¦‚æœæœ‰å®ä¹ çš„æœºä¼šå°±å»è¯•è¯•çœ‹ã€‚æ‚²å‚¬çš„æ˜¯2æœˆä»½é¡¹ç›®å¿«è¦ç»“æŸçš„æ—¶å€™ï¼Œå…¬å¸é‚£è¾¹è¯´ç¼©æ‹›ï¼Œåªæœ‰ä¸€ä¸ªå®ä¹ çš„åé¢ğŸ˜‡ï¼Œå½“æ—¶æˆ‘åœ¨å¿™ç€ipadsé‚£è¾¹é¡¹ç›®çš„é‡æ„ï¼Œå’Œä»»è€å¸ˆè®²æˆ‘å¯èƒ½æ²¡æœ‰ä»€ä¹ˆæ—¶é—´æjumpè¿™ä¸ªé¡¹ç›®äº†ï¼Œæ²¡æƒ³åˆ°å°±è¢«ä»»è€å¸ˆè¯´æœå»å°è¯•ä¸€ä¸‹optiveräº†ğŸ¤£ã€‚</p>

<p>æ¥ä¸‹æ¥ä¾¿æ˜¯æ¼«é•¿çš„æ‰¾å·¥ä¹‹æ—…ï¼Œé™¤äº†optiverä»¥å¤–è¿˜é¡ºä¾¿æŠ•äº†BATå‡ å®¶ï¼ˆåæ¥ipadsé€šçŸ¥ä¸è®¸æš‘æœŸå®ä¹ ï¼Œä¹Ÿå°±æ²¡æœ‰æ¥ç€æŠ•ï¼‰ï¼Œå‘ç°æœ€éš¾çš„ç«Ÿç„¶æ˜¯è¿‡ç®€å†åˆç­›å’Œè‹±è¯­å£è¯­ã€‚optiveré¢äº†ä¸€ä¸ªå¤šæœˆï¼Œèµ°å®Œæµç¨‹è¿˜æ˜¯è¢«waiting listäº†ğŸ˜¥ï¼Œå½“æ—¶è¿˜æ˜¯æŒºå¤±è½çš„ï¼Œæ¯•ç«Ÿè‡ªè®¤ä¸ºæ¯ä¸€åœºé¢è¯•éƒ½åœ¨éå¸¸è®¤çœŸçš„å‡†å¤‡ï¼Œå¯¹äºè¿™ä¸ªofferä¹Ÿæœ‰å¾ˆå¼ºçƒˆçš„æœŸæœ›ã€‚</p>

<p>æœ€è¿‘ä¸€ç›´åœ¨å¤ç›˜æ‰¾å·¥ä½œçš„è¿™å‡ ä¸ªæœˆï¼Œä¸å¾—ä¸è¯´è‡ªå·±çš„èƒ½åŠ›çœŸçš„å’Œdream jobçš„barä¹‹é—´è¿˜æœ‰ä¸€å®šçš„å·®è·ï¼Œäºæ˜¯å†³å®šä¸‹é¢è¿˜æ˜¯å®‰å¿ƒå¿µä¹¦ï¼Œå¤šå†™ä»£ç å¤šçœ‹ä¹¦ã€‚ä½†æ˜¯æ€»çš„è¯´æ¥ï¼Œæ‰¾å·¥è¿™å‡ ä¸ªæœˆï¼Œç¡®å®è®©æˆ‘å¥½å¥½å¤ä¹ äº†åŸºç¡€çŸ¥è¯†ï¼ŒåŒæ—¶åˆ·äº†ä¸å°‘leetcodeï¼Œå°†æ¥è¿˜èƒ½ç”¨å¾—åˆ°ï¼Œæ€»ä¹‹ä¸äºã€‚</p>

<h2 id="summary">Summary</h2>
<p>è¿™ä¸€å¹´ç¡®å®éå¸¸ç²¾å½©ï¼Œå‘ç”Ÿäº†å¾ˆå¤šäº‹æƒ…ï¼Œè™½ç„¶å…œå…œè½¬è½¬è¿˜æ˜¯å›åˆ°äº†è®¡åˆ’çš„åŸç‚¹ï¼Œä½†æ˜¯å°½åŠ›äº†ä¾¿ä¸ä¼šåæ‚”ã€‚æœ€å¤§çš„ç¼ºæ†¾æ˜¯æ²¡æœ‰å¥½å¥½ç©ğŸ˜¤ï¼Œå¤§ä¸‰ä¸‹å­¦æœŸæ˜æ˜è¿™ä¹ˆç©ºé—²ã€‚å¸Œæœ›æš‘å‡å’Œå¤§å››èƒ½å¤Ÿå¤šå‡ºå»èµ°èµ°ï¼Œè¿‡å¾—æ›´åŠ è½»æ¾ä¸€äº›ã€‚</p>]]></content><author><name>Haoru</name></author><category term="ç¢ç¢å¿µ" /><category term="æ€»ç»“" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">Github pages + jekyll åšå®¢æ­å»º</title><link href="http://localhost:4000/2023/06/14/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA.html" rel="alternate" type="text/html" title="Github pages + jekyll åšå®¢æ­å»º" /><published>2023-06-14T00:00:00+08:00</published><updated>2023-06-14T00:00:00+08:00</updated><id>http://localhost:4000/2023/06/14/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA</id><content type="html" xml:base="http://localhost:4000/2023/06/14/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA.html"><![CDATA[<!--more-->

<p>Github pages + jekyllï¼Œç®—æ˜¯æ¯”è¾ƒç®€å•å¤æ—©çš„åšå®¢æ­å»ºæ–¹å¼ï¼Œæœ¬ç€èƒ½ç”¨å°±è¡Œçš„åŸåˆ™ï¼Œæˆ‘é€‰æ‹©äº†è¿™ä¸ªåŠæ³•ã€‚</p>

<p>ä¸€å¹´ä¹‹å‰æ›¾ç»æ­å»ºè¿‡åšå®¢ï¼Œå†™äº†å‡ ç¯‡postä¹‹åå°±æç½®ä¸‹æ¥äº†ï¼Œè¿™æ¬¡æ¢äº†ç”µè„‘ï¼Œæƒ³ç€ç»™åšå®¢æ¢ä¸ªä¸»é¢˜ï¼ˆä¹‹å‰çš„windowsä»£ç å—æ¸²æŸ“å¤ªä¸‘äº†ï¼‰ï¼Œè¿™é‡Œç®€å•è®°å½•ä¸€ä¸‹æµç¨‹ï¼š</p>

<h4 id="0-ç¯å¢ƒ">0. ç¯å¢ƒ</h4>

<ul>
  <li>macbook m1</li>
  <li>å·²ç»å®‰è£…å¥½äº†<code class="language-plaintext highlighter-rouge">homebrew</code></li>
</ul>

<h4 id="1-å®‰è£…ruby">1. å®‰è£…ruby</h4>

<p>macè‡ªå¸¦rubyï¼Œå¯æ˜¯ç‰ˆæœ¬å¤ªè€ï¼ˆæˆ‘æ˜¯<code class="language-plaintext highlighter-rouge">2.6.0</code>)ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…<code class="language-plaintext highlighter-rouge">3.x</code>ç‰ˆæœ¬</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>ruby
<span class="c"># æ·»åŠ rubyè·¯å¾„åˆ°ç¯å¢ƒå˜é‡</span>
<span class="nb">echo</span> <span class="s1">'export PATH="/opt/homebrew/opt/ruby/bin:$PATH"'</span> <span class="o">&gt;&gt;</span> ~/.zshrc
<span class="nb">source</span> ~/.zshrc
</code></pre></div></div>

<p>ç„¶ååœ¨ç»ˆç«¯æŸ¥çœ‹rubyå®‰è£…ä½ç½®ä¸ç‰ˆæœ¬ä¿¡æ¯:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>which ruby 
ruby <span class="nt">-v</span>
</code></pre></div></div>

<p>æ˜¾ç¤ºå¦‚ä¸‹ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ruby 3.2.2 <span class="o">(</span>2023-03-30 revision e51014f9c0<span class="o">)</span> <span class="o">[</span>arm64-darwin22]
</code></pre></div></div>

<h4 id="2-ä½¿ç”¨rubyçš„åŒ…ç®¡ç†å™¨gemå®‰è£…jekyllåŠbundle">2. ä½¿ç”¨rubyçš„åŒ…ç®¡ç†å™¨<code class="language-plaintext highlighter-rouge">gem</code>å®‰è£…JekyllåŠbundle</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ç§»é™¤é»˜è®¤é•œåƒ</span>
<span class="nb">sudo </span>gem sources <span class="nt">--remove</span> https://rubygems.org/
<span class="c"># æ·»åŠ å›½å†…é•œåƒ</span>
<span class="nb">sudo </span>gem sources <span class="nt">-a</span> http://gems.ruby-china.com/
<span class="c"># æŸ¥çœ‹é•œåƒåˆ—è¡¨</span>
gem sources <span class="nt">-l</span>
<span class="c"># å®‰è£…bundlerå’Œjekyll</span>
<span class="nb">sudo </span>gem <span class="nb">install</span> <span class="nt">--user-install</span> bundler jekyll
<span class="c"># å°†gemå®‰è£…çš„åŒ…è·¯å¾„æ·»åŠ åˆ°ç¯å¢ƒå˜é‡</span>
<span class="nb">echo</span> <span class="s1">'export PATH="$HOME/.gem/ruby/3.2.0/bin:$PATH"'</span> <span class="o">&gt;&gt;</span> ~/.zshrc
<span class="nb">source</span> ~/.zshrc
</code></pre></div></div>

<h4 id="3-trouble-shooting">3. trouble shooting</h4>

<p>æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll <span class="nt">-v</span>
</code></pre></div></div>

<p>ç»“æœæŠ¥é”™ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/Users/zhaohaoru/.gem/ruby/3.2.0/gems/bundler-2.4.14/lib/bundler/resolver.rb:290:in <span class="sb">`</span>raise_not_found!<span class="s1">': Could not find gem '</span>liquid-md5<span class="s1">' in locally installed gems. (Bundler::GemNotFound)
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/bundler-2.4.14/lib/bundler/resolver.rb:343:in `block in prepare_dependencies'</span>
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/bundler-2.4.14/lib/bundler/resolver.rb:328:in <span class="sb">`</span>each<span class="s1">'
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/bundler-2.4.14/lib/bundler/resolver.rb:328:in `map'</span>
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/bundler-2.4.14/lib/bundler/resolver.rb:328:in <span class="sb">`</span>prepare_dependencies<span class="s1">'
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/bundler-2.4.14/lib/bundler/resolver.rb:53:in `setup_solver'</span>
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/bundler-2.4.14/lib/bundler/resolver.rb:28:in <span class="sb">`</span>start<span class="s1">'
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/bundler-2.4.14/lib/bundler/definition.rb:553:in `start_resolution'</span>
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/bundler-2.4.14/lib/bundler/definition.rb:290:in <span class="sb">`</span>resolve<span class="s1">'
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/bundler-2.4.14/lib/bundler/definition.rb:506:in `materialize'</span>
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/bundler-2.4.14/lib/bundler/definition.rb:197:in <span class="sb">`</span>specs<span class="s1">'
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/bundler-2.4.14/lib/bundler/definition.rb:255:in `specs_for'</span>
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/bundler-2.4.14/lib/bundler/runtime.rb:18:in <span class="sb">`</span>setup<span class="s1">'
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/bundler-2.4.14/lib/bundler.rb:162:in `setup'</span>
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/jekyll-4.3.2/lib/jekyll/plugin_manager.rb:52:in <span class="sb">`</span>require_from_bundler<span class="s1">'
        from /Users/zhaohaoru/.gem/ruby/3.2.0/gems/jekyll-4.3.2/exe/jekyll:11:in `&lt;top (required)&gt;'</span>
        from /Users/zhaohaoru/.gem/ruby/3.2.0/bin/jekyll:25:in <span class="sb">`</span>load<span class="s1">'
        from /Users/zhaohaoru/.gem/ruby/3.2.0/bin/jekyll:25:in `&lt;main&gt;'</span>
</code></pre></div></div>

<p>è¿™é‡Œçš„åŸå› æ˜¯bundleçš„ç‰ˆæœ¬å‡ºé”™ï¼Œå¦‚æœå•ç‹¬æ‰§è¡Œ<code class="language-plaintext highlighter-rouge">bundle install</code>, æˆ‘å¾—åˆ°äº†æŠ¥é”™ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Fetching gem metadata from https://rubygems.org/............
Resolving dependencies...
Could not find compatible versions

Because the current Bundler version <span class="o">(</span>2.4.14<span class="o">)</span> does not satisfy bundler ~&gt; 2.2.28
  and Gemfile depends on bundler ~&gt; 2.2.28,
  version solving has failed.

Your bundle requires a different version of Bundler than the one you<span class="s1">'re running.
Install the necessary version with `gem install bundler:2.2.34` and rerun bundler using `bundle _2.2.34_ install`
</span></code></pre></div></div>

<p>æ ¹æ®æŠ¥é”™ä¿¡æ¯ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>gem <span class="nb">install </span>bundler:2.2.34
bundle _2.2.34_ <span class="nb">install</span>
</code></pre></div></div>

<p>å†æ¬¡æ‰§è¡Œ<code class="language-plaintext highlighter-rouge">jekyll -v</code>å°±å¯ä»¥äº†</p>

<h4 id="4-åˆ›å»ºåšå®¢">4. åˆ›å»ºåšå®¢</h4>

<p>åˆ°å®˜ç½‘ä¸Šæ‰¾ä¸€ä¸ªä½ å–œæ¬¢çš„ä¸»é¢˜ï¼š<a href="http://jekyllthemes.org/">Jekyll Themes</a> ï¼ˆè¯´å®è¯æ„Ÿè§‰jekyllæ²¡å’‹æœ‰ç®€æ´ä¸”å¥½çœ‹çš„ä¸»é¢˜</p>

<p>æˆ‘é€‰æ‹©äº†è¿™ä¸€ä¸ªä¸»é¢˜ï¼š<a href="http://jekyllthemes.org/themes/dash/">Dash (jekyllthemes.org)</a></p>

<p><img src="/assets/my_pics/image-20230614195251087.png" alt="image-20230614195251087" style="zoom:50%;" /></p>

<p>è¿›å…¥<code class="language-plaintext highlighter-rouge">Homepage</code>ï¼Œå°†è¿™ä¸ªä»“åº“çš„å†…å®¹æ‹·è´åˆ°è‡ªå·±åä¸º<code class="language-plaintext highlighter-rouge">[username].github.io</code>çš„ä»“åº“ä¸­</p>

<h4 id="5-æœ¬åœ°è°ƒè¯•">5. æœ¬åœ°è°ƒè¯•</h4>

<p>åœ¨æœ¬åœ°ä»“åº“å¯¹åº”çš„æ–‡ä»¶å¤¹çš„terminalä¸­ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨æœåŠ¡ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jekyll server
</code></pre></div></div>

<p>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å¦‚ä¸‹ç½‘å€æŸ¥çœ‹æ•ˆæœï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://localhost:4000
</code></pre></div></div>

<p>è¿™æ—¶å€™ï¼Œå‡ ä¹æ‰€æœ‰çš„ä¿®æ”¹éƒ½å¯ä»¥å®æ—¶æ¸²æŸ“ï¼Œä½†æ˜¯æ³¨æ„ï¼š<strong>å¦‚æœä¿®æ”¹äº†config.ymlé…ç½®æˆ–å…¶ä»–ymlæ–‡ä»¶çš„é…ç½®,é‚£å°±éœ€è¦control+Cä¸­æ­¢æœåŠ¡å¹¶é‡å¯æœåŠ¡æ¥åˆ·æ–°é…ç½®.</strong></p>

<h4 id="6-æ›´æ–°å†…å®¹">6. æ›´æ–°å†…å®¹</h4>

<p>æ‰€æœ‰çš„å¸–å­éƒ½æ”¾åœ¨<code class="language-plaintext highlighter-rouge">_posts</code>ç›®å½•ä¸‹ï¼Œæ¯ä¸ªå¸–å­éƒ½æ˜¯ä¸€ä¸ª<code class="language-plaintext highlighter-rouge">.md</code>æ–‡ä»¶ï¼Œæ–‡ä»¶åæ ¼å¼ä¸º<code class="language-plaintext highlighter-rouge">yyyy-mm-dd-title.md</code>ï¼Œå…¶ä¸­<code class="language-plaintext highlighter-rouge">title</code>æ˜¯å¸–å­çš„æ ‡é¢˜ï¼Œ<code class="language-plaintext highlighter-rouge">yyyy-mm-dd</code>æ˜¯å¸–å­çš„æ—¥æœŸ</p>

<h3 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h3>

<p><a href="http://jekyllcn.com/docs/installation/">å®‰è£… - Jekyll â€¢ ç®€å•é™æ€åšå®¢ç½‘ç«™ç”Ÿæˆå™¨ (jekyllcn.com)</a></p>

<p><a href="https://blog.csdn.net/qq_41437512/article/details/115179412">m1èŠ¯ç‰‡Macå®‰è£…jekyll+æ­å»ºGitHub</a></p>]]></content><author><name>Haoru</name></author><category term="Blogs" /><category term="macbook" /><category term="é…ç¯å¢ƒ" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">gitå¸¸ç”¨å‘½ä»¤</title><link href="http://localhost:4000/2023/05/18/git%E5%91%BD%E4%BB%A4.html" rel="alternate" type="text/html" title="gitå¸¸ç”¨å‘½ä»¤" /><published>2023-05-18T00:00:00+08:00</published><updated>2023-05-18T00:00:00+08:00</updated><id>http://localhost:4000/2023/05/18/git%E5%91%BD%E4%BB%A4</id><content type="html" xml:base="http://localhost:4000/2023/05/18/git%E5%91%BD%E4%BB%A4.html"><![CDATA[<!--more-->

<p>æˆ‘å¸¸ç”¨çš„gitå‘½ä»¤ï¼Œè®°å½•ä¸€ä¸‹ï¼š</p>

<h4 id="1-æ”¾å¼ƒæœ¬åœ°çš„ä¿®æ”¹å¼ºåˆ¶è¿œç¨‹è¦†ç›–æœ¬åœ°">1. æ”¾å¼ƒæœ¬åœ°çš„ä¿®æ”¹å¼ºåˆ¶è¿œç¨‹è¦†ç›–æœ¬åœ°</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  git fetch <span class="nt">--all</span>
  git reset <span class="nt">--hard</span> origin/master
</code></pre></div></div>

<h4 id="2-è·å–è¿œç¨‹åˆ†æ”¯å‰è®°å¾—è¦æ›´æ–°">2. è·å–è¿œç¨‹åˆ†æ”¯å‰è®°å¾—è¦æ›´æ–°</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  git fetch
</code></pre></div></div>

<h4 id="3-å°†æœ¬åœ°åˆ†æ”¯æäº¤åˆ°è¿œç¨‹éä¸»åˆ†æ”¯ä¸Š">3. å°†æœ¬åœ°åˆ†æ”¯æäº¤åˆ°è¿œç¨‹éä¸»åˆ†æ”¯ä¸Š</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git pull origin &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt; // å°†è¿œç¨‹æŒ‡å®šåˆ†æ”¯ æ‹‰å–åˆ° æœ¬åœ°æŒ‡å®šåˆ†æ”¯ä¸Š
......
git pull origin &lt;è¿œç¨‹åˆ†æ”¯å&gt; // å°†è¿œç¨‹æŒ‡å®šåˆ†æ”¯ æ‹‰å–åˆ° æœ¬åœ°å½“å‰åˆ†æ”¯ä¸Š
......
git push origin &lt;æœ¬åœ°åˆ†æ”¯å&gt;:&lt;è¿œç¨‹åˆ†æ”¯å&gt; // å°†æœ¬åœ°å½“å‰åˆ†æ”¯ æ¨é€åˆ° è¿œç¨‹æŒ‡å®šåˆ†æ”¯ä¸Š
git push origin &lt;æœ¬åœ°åˆ†æ”¯å&gt; // å°†æœ¬åœ°å½“å‰åˆ†æ”¯ æ¨é€åˆ° ä¸æœ¬åœ°å½“å‰åˆ†æ”¯åŒåçš„è¿œç¨‹åˆ†æ”¯ä¸Š
git push // å°†æœ¬åœ°å½“å‰åˆ†æ”¯ æ¨é€åˆ° ä¸æœ¬åœ°å½“å‰åˆ†æ”¯åŒåçš„è¿œç¨‹åˆ†æ”¯ä¸Š
git push <span class="nt">-u</span> origin &lt;æœ¬åœ°åˆ†æ”¯å&gt; // å°†æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åŒååˆ†æ”¯ç›¸å…³è”
</code></pre></div></div>

<h4 id="4-githubæ–‡ä»¶å¤¹æœ‰ç™½è‰²ç®­å¤´å¹¶ä¸”ä¸èƒ½æ‰“å¼€çš„è§£å†³åŠæ³•">4. githubæ–‡ä»¶å¤¹æœ‰ç™½è‰²ç®­å¤´å¹¶ä¸”ä¸èƒ½æ‰“å¼€çš„è§£å†³åŠæ³•</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1ã€åˆ é™¤æ–‡ä»¶å¤¹é‡Œé¢çš„.gitæ–‡ä»¶å¤¹

2ã€æ‰§è¡Œgit <span class="nb">rm</span> <span class="nt">--cached</span> <span class="o">[</span>æ–‡ä»¶å¤¹å]

3ã€æ‰§è¡Œgit add <span class="o">[</span>æ–‡ä»¶å¤¹å]

4ã€æ‰§è¡Œgit commit <span class="nt">-m</span> <span class="s2">"msg"</span>

5ã€æ‰§è¡Œgit push origin <span class="o">[</span>branch_name] 
</code></pre></div></div>

<h4 id="5-å¼ºåˆ¶pushåˆ°è¿œç¨‹">5. å¼ºåˆ¶pushåˆ°è¿œç¨‹</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push <span class="nt">-u</span> origin master <span class="nt">-f</span>
</code></pre></div></div>

<h4 id="6-å¿«é€Ÿå…³è”ä¿®æ”¹gitè¿œç¨‹ä»“åº“åœ°å€">6. å¿«é€Ÿå…³è”/ä¿®æ”¹Gitè¿œç¨‹ä»“åº“åœ°å€</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git remote <span class="nt">-v</span> //æŸ¥çœ‹gitå¯¹åº”çš„è¿œç¨‹ä»“åº“åœ°å€
git remote <span class="nb">rm </span>origin //åˆ é™¤å…³è”å¯¹åº”çš„è¿œç¨‹ä»“åº“åœ°å€
git remote <span class="nt">-v</span> //æŸ¥çœ‹æ˜¯å¦åˆ é™¤æˆåŠŸï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•è¿”å›ç»“æœï¼Œè¡¨ç¤ºOK
git remote add origin https://github.com/developers-youcong/Metronic_Template.git //é‡æ–°å…³è”gitè¿œç¨‹ä»“åº“åœ°å€
</code></pre></div></div>

<h4 id="7-å¦‚ä½•å°†æœ¬åœ°gitä»“åº“æ¨é€åˆ°è¿œç¨‹">7. å¦‚ä½•å°†æœ¬åœ°gitä»“åº“æ¨é€åˆ°è¿œç¨‹</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>é¦–å…ˆåœ¨githubä¸Šé¢åˆ›å»ºæ–°ä»“åº“ï¼ˆæ³¨æ„ä¸è¦æ·»åŠ ä»»ä½•æ–‡ä»¶ï¼‰
ä¿®æ”¹å…³è”è¿œç¨‹ä»“åº“å°†å…³è”è¿œç¨‹ä»“åº“æ”¹ä¸ºæ–°ä»“åº“çš„sshåœ°å€
</code></pre></div></div>

<h4 id="8-å¦‚ä½•æ›´æ¢æœ¬åœ°gitå¯¹åº”çš„è¿œç¨‹å¹¶æ›´æ¢åˆ†æ”¯">8. å¦‚ä½•æ›´æ¢æœ¬åœ°gitå¯¹åº”çš„è¿œç¨‹å¹¶æ›´æ¢åˆ†æ”¯</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>....
git push <span class="nt">--set-upstream</span> origin master
</code></pre></div></div>

<ul>
  <li>æ³•2</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// å…ˆä¿®æ”¹å¯¹åº”çš„è¿œç¨‹gitåº“åœ°å€
// åœ¨ideaçš„å›¾å½¢åŒ–Gitç•Œé¢ï¼Œå¯¹æœ¬åœ°åˆ†æ”¯è¿›è¡Œæ¨é€
</code></pre></div></div>

<h4 id="9-gitåˆ é™¤åˆ†æ”¯">9. gitåˆ é™¤åˆ†æ”¯</h4>

<ul>
  <li>git åˆ é™¤æœ¬åœ°åˆ†æ”¯</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch <span class="nt">-d</span> &lt;BranchName&gt;
</code></pre></div></div>
<ul>
  <li>
    <p>git åˆ é™¤è¿œç¨‹åˆ†æ”¯</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯
git branch <span class="nt">-a</span>
// å‡å¦‚æ˜¾ç¤ºè¿œç¨‹åˆ†æ”¯çš„åå­—æ˜¯<span class="sb">`</span>origin/test<span class="sb">`</span>
git push origin <span class="nt">-d</span> <span class="nb">test</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="10-å–æ¶ˆå½“å‰çš„mergeæ“ä½œ">10. å–æ¶ˆå½“å‰çš„mergeæ“ä½œ</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  git merge <span class="nt">--abort</span>
</code></pre></div></div>

<h4 id="11-ä¸¢å¼ƒæ‰ç›®å‰æ‰€æœ‰ä¿®æ”¹æ²¡æœ‰addè¿‡">11. ä¸¢å¼ƒæ‰ç›®å‰æ‰€æœ‰ä¿®æ”¹ï¼ˆæ²¡æœ‰addè¿‡ï¼‰</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  git clean <span class="nt">-fdx</span>
</code></pre></div></div>

<h4 id="12-åœ¨gitignoreçš„æ—¶å€™å¿½ç•¥å·²ç»è·Ÿè¸ªè¿‡çš„æ–‡ä»¶">12. åœ¨gitignoreçš„æ—¶å€™å¿½ç•¥å·²ç»è·Ÿè¸ªè¿‡çš„æ–‡ä»¶</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  git <span class="nb">rm</span> <span class="nt">--cached</span> &lt;file_path&gt;
</code></pre></div></div>

<h4 id="13-è§£å†³é—®é¢˜the-following-untracked-working-tree-files-would-be-overwritten-by-merge">13. è§£å†³é—®é¢˜ï¼šThe following untracked working tree files would be overwritten by merge</h4>

<p>è¿™ä¸ªé”™è¯¯é€šå¸¸å‘ç”Ÿåœ¨å°è¯•ä»è¿œç¨‹ä»“åº“æ‹‰å–ä»£ç æ—¶ï¼Œä½†æœ¬åœ°å·¥ä½œåŒºå­˜åœ¨æœªè·Ÿè¸ªçš„æ–‡ä»¶ï¼Œè€Œè¿™äº›æ–‡ä»¶ä¸å³å°†æ‹‰å–çš„ä»£ç å‘ç”Ÿäº†å†²çªã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹å‡ ç§æ–¹</p>

<ol>
  <li>
    <p>æäº¤æˆ–ä¿å­˜æœ¬åœ°çš„ä¿®æ”¹ï¼šå¦‚æœå¯¹å·¥ä½œåŒºçš„ä¿®æ”¹æ˜¯æœ‰æ„ä¹‰çš„ï¼Œå¯ä»¥å…ˆæäº¤æˆ–ä¿å­˜è¿™äº›ä¿®æ”¹ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†ä¿®æ”¹çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºå¹¶æäº¤ï¼š</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add .
git commit -m "ä¿å­˜æœ¬åœ°ä¿®æ”¹"
</code></pre></div>    </div>

    <p>æˆ–è€…ä½¿ç”¨é€‚å½“çš„å‘½ä»¤ï¼ˆå¦‚ <code class="language-plaintext highlighter-rouge">git stash</code>ï¼‰å°†ä¿®æ”¹çš„æ–‡ä»¶æš‚å­˜èµ·æ¥ï¼Œä»¥ä¾¿ç¨åå†åº”ç”¨è¿™äº›ä¿®æ”¹ã€‚</p>
  </li>
  <li>
    <p>æ”¾å¼ƒæœ¬åœ°çš„ä¿®æ”¹ï¼šå¦‚æœå¯¹å·¥ä½œåŒºçš„ä¿®æ”¹å¹¶ä¸é‡è¦ï¼Œå¯ä»¥æ”¾å¼ƒè¿™äº›ä¿®æ”¹ï¼Œå¹¶æ¸…ç†å·¥ä½œåŒºã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†å·¥ä½œåŒºæ¢å¤ä¸ºä¸è¿œç¨‹ä»“åº“ä¸€è‡´çš„çŠ¶æ€ï¼š</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git reset --hard HEAD
git clean -df
</code></pre></div>    </div>

    <p>ç¬¬ä¸€æ¡å‘½ä»¤ä¼šå°†å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„ä¿®æ”¹æ¢å¤ä¸ºæœ€è¿‘çš„æäº¤çŠ¶æ€ï¼Œç¬¬äºŒæ¡å‘½ä»¤ä¼šåˆ é™¤æœªè¢«è·Ÿè¸ªçš„æ–‡ä»¶å’Œç›®å½•ã€‚</p>
  </li>
  <li>
    <p>æ‰‹åŠ¨åˆå¹¶å†²çªï¼šå¦‚æœæƒ³ä¿ç•™æœ¬åœ°çš„ä¿®æ”¹å¹¶å°è¯•æ‰‹åŠ¨è§£å†³å†²çªï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‹‰å–ä»£ç å¹¶è¿›è¡Œåˆå¹¶ï¼š</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git fetch
git merge origin/develop
</code></pre></div>    </div>

    <p>è¿™ä¼šå°†è¿œç¨‹ä»“åº“çš„ â€œdevelopâ€ åˆ†æ”¯ä¸æœ¬åœ°çš„å½“å‰åˆ†æ”¯è¿›è¡Œåˆå¹¶ã€‚ç„¶åï¼Œå¯ä»¥æ‰‹åŠ¨è§£å†³å†²çªï¼Œå¹¶åœ¨è§£å†³å®Œå†²çªåæäº¤ä¿®æ”¹ã€‚</p>
  </li>
</ol>]]></content><author><name>Haoru</name></author><category term="Git" /><category term="Commands" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">dockerå‘½ä»¤è®°å½•</title><link href="http://localhost:4000/2023/05/15/docker%E5%91%BD%E4%BB%A4.html" rel="alternate" type="text/html" title="dockerå‘½ä»¤è®°å½•" /><published>2023-05-15T00:00:00+08:00</published><updated>2023-05-15T00:00:00+08:00</updated><id>http://localhost:4000/2023/05/15/docker%E5%91%BD%E4%BB%A4</id><content type="html" xml:base="http://localhost:4000/2023/05/15/docker%E5%91%BD%E4%BB%A4.html"><![CDATA[<!--more-->

<p>poä¸€ä¸‹æœ€è¿‘ä½¿ç”¨åˆ°çš„dockerçš„å‘½ä»¤ç”¨æ³•ï¼Œä¸€ç›´éƒ½è®°ä¸ä½è¦ç»å¸¸ç°æŸ¥ :(</p>

<h4 id="1-åˆ é™¤é•œåƒ">1. åˆ é™¤é•œåƒ</h4>

<ol>
  <li>è¦æŒ‰ç…§é•œåƒåç§°åˆ é™¤ Docker ä¸­çš„é•œåƒï¼Œå¯ä»¥ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">docker rmi</code> å‘½ä»¤ã€‚</li>
</ol>

<p>å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker rmi &lt;image_name&gt;
</code></pre></div></div>

<p>å…¶ä¸­ <code class="language-plaintext highlighter-rouge">&lt;image_name&gt;</code> æ˜¯è¦åˆ é™¤çš„é•œåƒçš„åç§°æˆ–é•œåƒ IDã€‚</p>

<p>dockeråˆ é™¤æ„å»ºå¤±è´¥çš„é•œåƒï¼ˆæ‰¹é‡åˆ é™¤æ²¡æœ‰åå­—çš„é•œåƒï¼‰</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker rmi <span class="si">$(</span>docker images <span class="nt">-f</span> <span class="s2">"dangling=true"</span> <span class="nt">-q</span><span class="si">)</span>
</code></pre></div></div>

<h4 id="2-åˆ é™¤container">2. åˆ é™¤container</h4>

<p>åˆ é™¤æ‰€æœ‰ä¸å†è¿è¡Œçš„container</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker <span class="nb">rm</span> <span class="si">$(</span>docker ps <span class="nt">-aq</span><span class="si">)</span>
</code></pre></div></div>

<h4 id="3-ä»¥æŸä¸€é•œåƒæ„å»ºå®¹å™¨">3. ä»¥æŸä¸€é•œåƒæ„å»ºå®¹å™¨</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">-p</span> 5000:5000 <span class="nt">--name</span> my_container <span class="nt">-d</span> your_image_name
</code></pre></div></div>

<p>åœ¨è¿è¡Œå®¹å™¨ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">docker ps</code> å‘½ä»¤æ¥æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨ã€‚</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ps
</code></pre></div></div>

<h4 id="4-è¿›å…¥å®¹å™¨">4. è¿›å…¥å®¹å™¨</h4>

<p>å¦‚æœéœ€è¦è¿›å…¥å®¹å™¨å†…éƒ¨è¿›è¡Œäº¤äº’ï¼Œå¯ä»¥ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">docker exec</code> å‘½ä»¤ã€‚</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker <span class="nb">exec</span> <span class="nt">-it</span> my_container /bin/sh
</code></pre></div></div>

<h4 id="5-æŸ¥çœ‹å®¹å™¨">5. æŸ¥çœ‹å®¹å™¨</h4>

<p>ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">docker ps</code> å‘½ä»¤æ¥æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨ã€‚</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ps
</code></pre></div></div>

<p>æ˜¾ç¤ºæ‰€æœ‰åŒ…æ‹¬å·²ç»åœæ­¢çš„å®¹å™¨</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ps <span class="nt">-a</span>
</code></pre></div></div>

<h4 id="6-æŸ¥çœ‹dockerå®¹å™¨å¯¹åº”çš„ip">6. æŸ¥çœ‹dockerå®¹å™¨å¯¹åº”çš„ip</h4>

<ol>
  <li>è¦æŸ¥çœ‹ Docker å®¹å™¨çš„ IP åœ°å€ï¼Œå¯ä»¥ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">docker inspect</code> å‘½ä»¤ã€‚è¯¥å‘½ä»¤å¯ä»¥è·å–å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬ IP åœ°å€ã€‚</li>
</ol>

<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹å‘½ä»¤ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker inspect <span class="nt">-f</span> <span class="s1">''</span> &lt;container_id_or_name&gt;
</code></pre></div></div>

<p>åœ¨ä¸Šé¢çš„å‘½ä»¤ä¸­ï¼Œéœ€è¦å°† <code class="language-plaintext highlighter-rouge">&lt;container_id_or_name&gt;</code> æ›¿æ¢ä¸ºè¦æŸ¥è¯¢çš„å®¹å™¨çš„ ID æˆ–åç§°ã€‚å‘½ä»¤æ‰§è¡Œåï¼Œå®ƒä¼šè¾“å‡ºå®¹å™¨çš„ IP åœ°å€ã€‚</p>

<ol>
  <li>å¦‚æœåªæƒ³è·å–å®¹å™¨çš„ IP åœ°å€ï¼Œå¯ä»¥ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">--format</code> é€‰é¡¹æ¥æŒ‡å®šè¾“å‡ºæ ¼å¼ã€‚</li>
</ol>

<p>ä»¥ä¸‹æ˜¯ç¤ºä¾‹å‘½ä»¤ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker inspect <span class="nt">--format</span> <span class="s1">''</span> &lt;container_id_or_name&gt;
</code></pre></div></div>

<p>è¯·ç¡®ä¿åœ¨å‘½ä»¤ä¸­æ›¿æ¢ <code class="language-plaintext highlighter-rouge">&lt;container_id_or_name&gt;</code> ä¸ºå®é™…çš„å®¹å™¨ ID æˆ–åç§°ã€‚</p>

<ol>
  <li>å¦‚æœæƒ³è¦ä¸€æ¬¡æ€§æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çš„ IP åœ°å€ï¼Œå¯ä»¥ç»“åˆä½¿ç”¨ <code class="language-plaintext highlighter-rouge">docker ps</code> å’Œ <code class="language-plaintext highlighter-rouge">docker inspect</code> å‘½ä»¤ã€‚</li>
</ol>

<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹å‘½ä»¤ï¼š</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker ps <span class="nt">-q</span> | xargs <span class="nt">-n</span> 1 docker inspect <span class="nt">-f</span> <span class="s1">' - '</span>
</code></pre></div></div>

<p>è¯¥å‘½ä»¤ä¼šåˆ—å‡ºæ‰€æœ‰å®¹å™¨çš„ ID å’Œå¯¹åº”çš„ IP åœ°å€ã€‚</p>

<p>è¯·æ³¨æ„ï¼Œ<em>ä¸Šè¿°å‘½ä»¤åªèƒ½æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨çš„ IP åœ°å€ã€‚å¦‚æœå®¹å™¨å·²ç»åœæ­¢ï¼Œå®ƒå°†ä¸ä¼šæ˜¾ç¤ºç›¸åº”çš„ IP åœ°å€</em>ã€‚</p>

<h4 id="7-ä½¿ç”¨å¦å¤–ä¸€å°æœºå™¨ä¸Šçš„docker-registry">7. ä½¿ç”¨å¦å¤–ä¸€å°æœºå™¨ä¸Šçš„docker registry</h4>

<p>è¦ä½¿ç”¨å¦ä¸€å°æœºå™¨ä¸Šçš„ Docker Registryï¼Œéœ€è¦è¿›è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>

<ol>
  <li>
    <p><strong>åœ¨å¦ä¸€å°æœºå™¨ä¸Šè®¾ç½® Docker Registryï¼š</strong> é¦–å…ˆï¼Œåœ¨å¦ä¸€å°æœºå™¨ä¸Šå¯åŠ¨ä¸€ä¸ª Docker Registry æœåŠ¡ã€‚å¯ä»¥ä½¿ç”¨å®˜æ–¹çš„ Docker Registry é•œåƒæ¥è¿è¡Œä¸€ä¸ªç§æœ‰çš„ Registryã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ Registry å®¹å™¨ï¼š</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run -d -p 5000:5000 --restart=always --name registry registry:2
</code></pre></div>    </div>

    <p>è¿™å°†åœ¨ç«¯å£ 5000 ä¸Šå¯åŠ¨ Docker Registry å¹¶æŒç»­è¿è¡Œã€‚</p>
  </li>
  <li>
    <p><strong>é…ç½® Docker å®¢æˆ·ç«¯ï¼š</strong> éœ€è¦åœ¨æœ¬åœ°çš„ Docker å®¢æˆ·ç«¯ä¸Šé…ç½®å®ƒæ¥ä½¿ç”¨å¦ä¸€å°æœºå™¨ä¸Šçš„ Docker Registryã€‚å°† Docker å®¢æˆ·ç«¯é…ç½®ä¸ºä¿¡ä»»å¦ä¸€å°æœºå™¨ä¸Šçš„ Registryã€‚ä¸ºæ­¤ï¼Œå¯ä»¥åœ¨ Docker å®¢æˆ·ç«¯ä¸Šåˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ <code class="language-plaintext highlighter-rouge">daemon.json</code>ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>

    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"insecure-registries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;registry-hostname&gt;:&lt;registry-port&gt;"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>

    <p>å…¶ä¸­ <code class="language-plaintext highlighter-rouge">&lt;registry-hostname&gt;</code> æ˜¯å¦ä¸€å°æœºå™¨çš„ä¸»æœºåæˆ– IP åœ°å€ï¼Œ<code class="language-plaintext highlighter-rouge">&lt;registry-port&gt;</code> æ˜¯ Registry æœåŠ¡çš„ç«¯å£ï¼ˆé»˜è®¤ä¸º 5000ï¼‰ã€‚ä¿å­˜é…ç½®æ–‡ä»¶åï¼Œé‡å¯ Docker æœåŠ¡ï¼Œä½¿é…ç½®ç”Ÿæ•ˆã€‚</p>
  </li>
  <li>
    <p><strong>æ ‡è®°é•œåƒå¹¶æ¨é€åˆ° Registryï¼š</strong> ç°åœ¨å¯ä»¥å°†æœ¬åœ°çš„ Docker é•œåƒæ ‡è®°ä¸ºå¦ä¸€å°æœºå™¨ä¸Šçš„ Registry åœ°å€ï¼Œå¹¶æ¨é€åˆ°è¯¥ Registryã€‚å‡è®¾æœ‰ä¸€ä¸ªåä¸º <code class="language-plaintext highlighter-rouge">my-image</code> çš„é•œåƒï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥è¿›è¡Œæ ‡è®°å’Œæ¨é€ï¼š</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker tag my-image &lt;registry-hostname&gt;:&lt;registry-port&gt;/my-image
docker push &lt;registry-hostname&gt;:&lt;registry-port&gt;/my-image
</code></pre></div>    </div>

    <p>å°† <code class="language-plaintext highlighter-rouge">&lt;registry-hostname&gt;</code> æ›¿æ¢ä¸ºå¦ä¸€å°æœºå™¨çš„ä¸»æœºåæˆ– IP åœ°å€ï¼Œ<code class="language-plaintext highlighter-rouge">&lt;registry-port&gt;</code> æ›¿æ¢ä¸º Registry æœåŠ¡çš„ç«¯å£ã€‚</p>
  </li>
  <li>
    <p><strong>ä» Registry æ‹‰å–é•œåƒï¼š</strong> å¦‚æœæƒ³ä»å¦ä¸€å°æœºå™¨ä¸Šçš„ Registry æ‹‰å–é•œåƒï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull &lt;registry-hostname&gt;:&lt;registry-port&gt;/my-image
</code></pre></div>    </div>

    <p>åŒæ ·ï¼Œå°† <code class="language-plaintext highlighter-rouge">&lt;registry-hostname&gt;</code> æ›¿æ¢ä¸ºå¦ä¸€å°æœºå™¨çš„ä¸»æœºåæˆ– IP åœ°å€ï¼Œ<code class="language-plaintext highlighter-rouge">&lt;registry-port&gt;</code> æ›¿æ¢ä¸º Registry æœåŠ¡çš„ç«¯å£ã€‚</p>
  </li>
</ol>

<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œå°±å¯ä»¥ä½¿ç”¨å¦ä¸€å°æœºå™¨ä¸Šçš„ Docker Registry è¿›è¡Œé•œåƒçš„æ¨é€å’Œæ‹‰å–æ“ä½œã€‚</p>]]></content><author><name>Haoru</name></author><category term="Docker" /><category term="Commands" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">macbook m1 + VMware Fusion é…ç½®ubuntuè™šæ‹Ÿæœº</title><link href="http://localhost:4000/2023/04/01/mac-m1%E5%AE%89%E8%A3%85%E8%99%9A%E6%8B%9F%E6%9C%BA.html" rel="alternate" type="text/html" title="macbook m1 + VMware Fusion é…ç½®ubuntuè™šæ‹Ÿæœº" /><published>2023-04-01T00:00:00+08:00</published><updated>2023-04-01T00:00:00+08:00</updated><id>http://localhost:4000/2023/04/01/mac-m1%E5%AE%89%E8%A3%85%E8%99%9A%E6%8B%9F%E6%9C%BA</id><content type="html" xml:base="http://localhost:4000/2023/04/01/mac-m1%E5%AE%89%E8%A3%85%E8%99%9A%E6%8B%9F%E6%9C%BA.html"><![CDATA[<!--more-->
<h3 id="1-ç¯å¢ƒ">1. ç¯å¢ƒ</h3>
<ol>
  <li>
    <p>macbook m1</p>
  </li>
  <li>
    <p>VMware Fusion 13.0.1</p>
  </li>
  <li>
    <p>Ubuntu 22.04</p>
  </li>
</ol>

<h3 id="2-vmware-fusion-å®‰è£…">2. VMware Fusion å®‰è£…</h3>
<p>è®¸å¯è¯å¯ä»¥åˆ°GitHubä¸Šé¢æ‰¾</p>

<h3 id="3-æ³¨æ„äº‹é¡¹">3. æ³¨æ„äº‹é¡¹</h3>
<p>VMware Fusionçš„æ˜“ç”¨ç¨‹åº¦è¿œè¿œä¸å¦‚windowsä¸‹çš„VMware Workstationï¼Œä¸èƒ½ç›´æ¥å®‰è£…ubuntuçš„æ¡Œé¢ç‰ˆï¼Œå¿…é¡»å…ˆå®‰è£…serverç‰ˆï¼Œå†å‡çº§ï¼› armæ¶æ„åœ¨å®‰è£…è¿‡ç¨‹ä¸­ä¹Ÿå¸¦æ¥äº†ä¸€äº›é—®é¢˜ï¼Œä»¥ä¸‹æ˜¯æˆ‘å®‰è£…è¿‡ç¨‹ä¸­ä½¿ç”¨çš„ä¸€äº›æ¯”è¾ƒæœ‰ç”¨çš„å‚è€ƒï¼š</p>
<ol>
  <li>
    <p>å®‰è£…è™šæ‹Ÿæœºï¼Œå…ˆè£…serverç‰ˆï¼Œå†å‡çº§æ¡Œé¢ç‰ˆ</p>

    <p><a href="https://blog.csdn.net/qq_24950043/article/details/125774990">mac pro M1(ARM)å®‰è£…ï¼šubuntuæ¡Œé¢ç‰ˆè™šæ‹Ÿæœºï¼ˆäº”ï¼‰</a></p>

    <p><a href="https://blog.csdn.net/qq_24950043/article/details/123764210">mac pro M1(ARM)å®‰è£…ï¼šubuntuè™šæ‹Ÿæœºï¼ˆå››ï¼‰</a></p>
  </li>
  <li>
    <p>æ¢æºä¸èƒ½ç”¨<code class="language-plaintext highlighter-rouge">ubuntu</code>ï¼Œ è¦ç”¨<code class="language-plaintext highlighter-rouge">ubuntu-ports</code></p>

    <p><a href="https://mirrors-i.tuna.tsinghua.edu.cn/help/ubuntu-ports/">ubuntuâ€”ports ï½œ æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™</a></p>
  </li>
</ol>]]></content><author><name>Haoru</name></author><category term="macbook" /><category term="é…ç¯å¢ƒ" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">react-navigation 6.x ä½¿ç”¨æŒ‡å— (3)</title><link href="http://localhost:4000/2022/09/18/react-navigation_3.html" rel="alternate" type="text/html" title="react-navigation 6.x ä½¿ç”¨æŒ‡å— (3)" /><published>2022-09-18T00:00:00+08:00</published><updated>2022-09-18T00:00:00+08:00</updated><id>http://localhost:4000/2022/09/18/react-navigation_3</id><content type="html" xml:base="http://localhost:4000/2022/09/18/react-navigation_3.html"><![CDATA[<!--more-->

<p>ç›®å‰react-navigationçš„å®˜æ–¹æ–‡æ¡£å·²ç»æ›´æ–°åˆ°äº†<code class="language-plaintext highlighter-rouge">6.x</code>ç‰ˆæœ¬ï¼Œåœ¨<a href="https://reactnavigation.org/docs/getting-started/">å®˜æ–¹æ–‡æ¡£</a>ä¸­å¯¹äºå…¶åŸºæœ¬çš„ä½¿ç”¨æ–¹æ³•ä¹Ÿæœ‰æ‰€ä»‹ç»ï¼Œä½†æ˜¯å¯¹äºä¸€äº›æ¯”è¾ƒå¤æ‚çš„ä½¿ç”¨åœºæ™¯ï¼Œæˆ–è€…ä¼ å‚ç­‰ç»†èŠ‚é—®é¢˜å¹¶æ²¡æœ‰ç»™å‡ºè¯¦ç»†çš„è§£å†³æ–¹æ¡ˆã€‚</p>

<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä»‹ç»ä¸åŒé¡µé¢ä¹‹é—´å‚æ•°çš„ä¼ é€’å’Œ <code class="language-plaintext highlighter-rouge">Link</code>çš„ä½¿ç”¨ã€‚</p>

<h2 id="é¡µé¢å¯¼èˆªä¸å‚æ•°ä¼ é€’">é¡µé¢å¯¼èˆªä¸å‚æ•°ä¼ é€’</h2>
<h3 id="navigationnavigate--navigationreplace">navigation.navigate &amp; navigation.replace</h3>
<p>åœ¨<a href="https://reactnavigation.org/docs/params">å®˜æ–¹æ–‡æ¡£</a>ä¸­ç»™å‡ºäº†<code class="language-plaintext highlighter-rouge">navigation.navigate</code>å‚æ•°ä¼ é€’çš„åŸºæœ¬æ–¹å¼ï¼š</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">View</span><span class="p">,</span> <span class="nx">Button</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">NavigationContainer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createNativeStackNavigator</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/native-stack</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">HomeScreen</span><span class="p">({</span> <span class="nx">navigation</span> <span class="p">})</span> <span class="p">{</span>
    <span class="k">return </span><span class="p">(</span>
        <span class="p">......</span>
        <span class="o">&lt;</span><span class="nx">Button</span>
            <span class="nx">title</span><span class="o">=</span><span class="dl">"</span><span class="s2">Go to Details</span><span class="dl">"</span>
            <span class="nx">onPress</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="cm">/* 1. Navigate to the Details route with params */</span>
            <span class="nx">navigation</span><span class="p">.</span><span class="nf">navigate</span><span class="p">(</span><span class="dl">'</span><span class="s1">Details</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
                <span class="na">itemId</span><span class="p">:</span> <span class="mi">86</span><span class="p">,</span>
                <span class="na">otherParam</span><span class="p">:</span> <span class="dl">'</span><span class="s1">anything you want here</span><span class="dl">'</span><span class="p">,</span>
            <span class="p">});</span>
            <span class="p">}}</span>
        <span class="sr">/</span><span class="err">&gt;
</span>        <span class="p">......</span>
    <span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">DetailsScreen</span><span class="p">({</span> <span class="nx">route</span><span class="p">,</span> <span class="nx">navigation</span> <span class="p">})</span> <span class="p">{</span>
    <span class="cm">/* 2. Get the param */</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">itemId</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">route</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">otherParam</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">route</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
    <span class="k">return </span><span class="p">(</span>
    <span class="p">......</span>
    <span class="p">);</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">Stack</span> <span class="o">=</span> <span class="nf">createNativeStackNavigator</span><span class="p">();</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">NavigationContainer</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Stack</span><span class="p">.</span><span class="nx">Navigator</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">Stack</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Home</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">HomeScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">Stack</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Details</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">DetailsScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/Stack.Navigator</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/NavigationContainer</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<p>å¦‚æœéœ€è¦ä¼ é€’å‚æ•°ï¼Œéœ€è¦åœ¨å‡½æ•°ä¸ŠåŠ å…¥<code class="language-plaintext highlighter-rouge">navigation</code>çš„å‚æ•°ï¼Œå¦‚æœéœ€è¦æ¥å—æ¥å—å‚æ•°, åˆ™éœ€è¦åŠ å…¥<code class="language-plaintext highlighter-rouge">route</code>å¹¶ä½¿ç”¨<code class="language-plaintext highlighter-rouge">route.params</code>è·å¾—å‚æ•°ã€‚</p>

<p><code class="language-plaintext highlighter-rouge">navigation.replace</code>å’Œ<code class="language-plaintext highlighter-rouge">navigation.navigate</code>ä¼ é€’å‚æ•°çš„æ–¹å¼æ˜¯ä¸€æ ·çš„ï¼ŒåŒºåˆ«æ˜¯<code class="language-plaintext highlighter-rouge">navigation.navigate</code>ç›¸å½“äºæ–°å‹å…¥ä¸€ä¸ªé¡µé¢ï¼Œå›é€€çš„æ—¶å€™è¿˜æ˜¯ä¼šå›é€€åˆ°å½“å‰é¡µé¢ï¼Œ<code class="language-plaintext highlighter-rouge">navigation.replace</code>æ˜¯ä»¥æ–°é¡µé¢æ›¿æ¢æ‰äº†å½“å‰é¡µé¢ã€‚</p>

<h2 id="linkçš„ä½¿ç”¨ä»¥åŠå‚æ•°ä¼ é€’">Linkçš„ä½¿ç”¨ä»¥åŠå‚æ•°ä¼ é€’</h2>
<p>ä½¿ç”¨<code class="language-plaintext highlighter-rouge">Link</code>ä¹Ÿå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨ä¸åŒé¡µé¢ä¹‹é—´è¿›è¡Œå¯¼èˆªï¼Œä¸<code class="language-plaintext highlighter-rouge">navigation.navigate</code>ç›¸æ¯”ï¼Œ<code class="language-plaintext highlighter-rouge">Link</code>æ›´åŠ è‡ªç”±ï¼Œå› ä¸ºå®ƒä¸éœ€è¦åœ¨å‡½æ•°ä¸ŠåŠ ä¸Š<code class="language-plaintext highlighter-rouge">navigation</code>çš„å‚æ•°ã€‚</p>

<h3 id="åŸºæœ¬ç”¨æ³•">åŸºæœ¬ç”¨æ³•</h3>
<p>åœ¨<a href="https://reactnavigation.org/docs/link/">å®˜æ–¹æ–‡æ¡£</a>æä¾›äº†åŸºæœ¬çš„ç”¨æ³•ã€‚</p>

<h3 id="å‚æ•°ä¼ é€’å’Œæ¥æ”¶">å‚æ•°ä¼ é€’å’Œæ¥æ”¶</h3>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">Link</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/native</span><span class="dl">'</span><span class="p">;</span>
<span class="p">...</span>

<span class="c1">// å‚æ•°çš„ä¼ å‡º</span>
<span class="kd">const</span> <span class="nx">Card</span> <span class="o">=</span> <span class="p">({</span><span class="nx">props</span><span class="p">,</span> <span class="nx">userId</span><span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="p">...</span>
    <span class="k">return </span><span class="p">(</span>
        <span class="p">...</span>
            <span class="o">&lt;</span><span class="nx">Link</span>
            <span class="nx">to</span><span class="o">=</span><span class="p">{{</span>
                <span class="na">screen</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Detail</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">initial</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                <span class="na">params</span><span class="p">:</span> <span class="p">{</span><span class="na">props</span><span class="p">:</span> <span class="nx">props</span><span class="p">,</span> <span class="na">userId</span><span class="p">:</span> <span class="nx">userId</span><span class="p">},</span>
            <span class="p">}}</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">mt</span><span class="o">=</span><span class="p">{</span><span class="mf">0.02</span> <span class="o">*</span> <span class="nx">w</span><span class="p">}</span> <span class="nx">color</span><span class="o">=</span><span class="dl">"</span><span class="s2">#71717a</span><span class="dl">"</span> <span class="nx">bold</span> <span class="nx">size</span><span class="o">=</span><span class="dl">"</span><span class="s2">xl</span><span class="dl">"</span><span class="o">&gt;</span>
                    <span class="p">{</span><span class="nx">title</span><span class="p">}</span>
                <span class="o">&lt;</span><span class="sr">/Text</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/Link</span><span class="err">&gt;
</span>        <span class="p">...</span>
        <span class="o">&lt;</span><span class="sr">/Box</span><span class="err">&gt;
</span>    <span class="p">);</span>
<span class="p">};</span>

<span class="c1">// å‚æ•°çš„æ¥å—</span>
<span class="kd">const</span> <span class="nx">DetailScreen</span> <span class="o">=</span> <span class="p">({</span><span class="nx">route</span><span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// console.log('detail screen', route.params);</span>
    <span class="kd">const</span> <span class="p">{</span><span class="nx">props</span><span class="p">}</span> <span class="o">=</span> <span class="nx">route</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
    <span class="kd">const</span> <span class="p">{</span><span class="nx">userId</span><span class="p">}</span> <span class="o">=</span> <span class="nx">route</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
    <span class="kd">const</span> <span class="p">{</span><span class="nx">groupId</span><span class="p">}</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">groupId</span><span class="p">;</span>

    <span class="k">return </span><span class="p">(</span>
        <span class="o">&lt;&gt;</span>
        <span class="p">...</span>
        <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;
</span>    <span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>

<p>åœ¨ä½¿ç”¨<code class="language-plaintext highlighter-rouge">Link</code>çš„æ—¶å€™,<code class="language-plaintext highlighter-rouge">screen</code>æ˜¯æˆ‘ä»¬å¸Œæœ›å¯¼èˆªåˆ°çš„é¡µé¢åå­—ï¼ˆè¿™ä¸ªåå­—å¿…é¡»å·²ç»åœ¨<code class="language-plaintext highlighter-rouge">Navigator</code>ä¸­å®šä¹‰è¿‡äº†ï¼‰ï¼Œ<code class="language-plaintext highlighter-rouge">params</code>ä¸­ä½¿ç”¨<code class="language-plaintext highlighter-rouge">key:value</code>æ–¹å¼ä¼ é€’å‚æ•°ï¼Œåœ¨ç›®æ ‡é¡µé¢ä½¿ç”¨<code class="language-plaintext highlighter-rouge">route.params</code>æ¥å—å‚æ•°ï¼ˆæ³¨æ„åœ¨å‡½æ•°å‚æ•°ä¸­ä¸€å®šè¦åŠ å…¥<code class="language-plaintext highlighter-rouge">route</code>ï¼‰ã€‚</p>

<h2 id="ç»“è¯­">ç»“è¯­</h2>
<p>é€šè¿‡è¿™ä¸‰ç¯‡æ–‡ç« ï¼Œæˆ‘åŸºæœ¬ä¸Šå°†æˆ‘æ‰€æ¥è§¦åˆ°çš„<code class="language-plaintext highlighter-rouge">react-navigation</code>çš„åŸºæœ¬ç”¨æ³•å’Œä½¿ç”¨ä¸­é‡åˆ°é—®é¢˜çš„è§£å†³æ–¹æ¡ˆåšäº†ä»‹ç»ã€‚<code class="language-plaintext highlighter-rouge">react-navigation</code>çš„æ›´æ–°è¿˜æ˜¯éå¸¸å¿«é€Ÿçš„ï¼Œå¹¶ä¸”ç›¸å¯¹äºå†å²ç‰ˆæœ¬ï¼Œè¯­æ³•ä¸Šæœ‰äº†æ¯”è¾ƒå¤§çš„å˜åŠ¨ï¼Œæœ€åè¿˜æ˜¯è¦ä»¥<a href="https://reactnavigation.org/docs/getting-started/">å®˜æ–¹æ–‡æ¡£</a>ä½œä¸ºæœ€é‡è¦çš„å‚è€ƒã€‚</p>]]></content><author><name>Haoru</name></author><category term="React-Native" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">react-navigation 6.x ä½¿ç”¨æŒ‡å— (2)</title><link href="http://localhost:4000/2022/09/18/react-navigation_2.html" rel="alternate" type="text/html" title="react-navigation 6.x ä½¿ç”¨æŒ‡å— (2)" /><published>2022-09-18T00:00:00+08:00</published><updated>2022-09-18T00:00:00+08:00</updated><id>http://localhost:4000/2022/09/18/react-navigation_2</id><content type="html" xml:base="http://localhost:4000/2022/09/18/react-navigation_2.html"><![CDATA[<p>react-navigation 6.xç‰ˆæœ¬çš„å®‰è£…ã€ä¼ å‚ã€navigatorçš„ä½¿ç”¨ç­‰ä»‹ç»ï¼ˆpart2ï¼‰ã€‚
<!--more--></p>

<p>ç›®å‰react-navigationçš„å®˜æ–¹æ–‡æ¡£å·²ç»æ›´æ–°åˆ°äº†<code class="language-plaintext highlighter-rouge">6.x</code>ç‰ˆæœ¬ï¼Œåœ¨<a href="https://reactnavigation.org/docs/getting-started/">å®˜æ–¹æ–‡æ¡£</a>ä¸­å¯¹äºå…¶åŸºæœ¬çš„ä½¿ç”¨æ–¹æ³•ä¹Ÿæœ‰æ‰€ä»‹ç»ï¼Œä½†æ˜¯å¯¹äºä¸€äº›æ¯”è¾ƒå¤æ‚çš„ä½¿ç”¨åœºæ™¯ï¼Œæˆ–è€…ä¼ å‚ç­‰ç»†èŠ‚é—®é¢˜å¹¶æ²¡æœ‰ç»™å‡ºè¯¦ç»†çš„è§£å†³æ–¹æ¡ˆã€‚</p>

<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä»‹ç»<code class="language-plaintext highlighter-rouge">Native Stack Navigator</code>çš„ä½¿ç”¨ä»¥åŠ<code class="language-plaintext highlighter-rouge">Drawer Navigation</code>çš„ä½¿ç”¨ã€‚</p>

<h2 id="native-stack-navigator">Native Stack Navigator</h2>
<h3 id="åŸºæœ¬ç”¨æ³•">åŸºæœ¬ç”¨æ³•</h3>
<p>å¦‚æœä¸æƒ³æ˜¾ç¤ºä»»ä½•å¯¼èˆªæ ï¼Œ<code class="language-plaintext highlighter-rouge">stack navigator</code>æ— ç–‘æ˜¯ä¸ªæœ€å¥½çš„é€‰æ‹©ï¼Œè¿™æ˜¯æœ€åŸºæœ¬çš„é¡µé¢å¯¼èˆªï¼Œå®ƒç»´æŠ¤äº†ä¸€ä¸ªæ ˆç»“æ„ï¼Œè¿›å…¥ä¸€ä¸ªé¡µé¢ç›¸å½“äºåœ¨æ ˆé‡Œå‹å…¥äº†ä¸€ä¸ªé¡µé¢ï¼Œè¿”å›æ“ä½œç›¸å½“äºåœ¨æ ˆä¸­å¼¹å‡ºä¸€ä¸ªé¡µé¢ã€‚åœ¨<a href="https://reactnavigation.org/docs/native-stack-navigator/">å®˜æ–¹æ–‡æ¡£</a>ç»™å‡ºäº†åŸºæœ¬çš„ç”¨æ³•ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Button</span><span class="p">,</span> <span class="nx">View</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">NavigationContainer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createNativeStackNavigator</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/native-stack</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">HomeScreen</span><span class="p">({</span> <span class="nx">navigation</span> <span class="p">})</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=&gt;</span>
      <span class="o">&lt;</span><span class="nx">Button</span>
        <span class="nx">title</span><span class="o">=</span><span class="dl">"</span><span class="s2">Go to Profile</span><span class="dl">"</span>
        <span class="nx">onPress</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">navigation</span><span class="p">.</span><span class="nf">navigate</span><span class="p">(</span><span class="dl">'</span><span class="s1">Profile</span><span class="dl">'</span><span class="p">)}</span>
      <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">ProfileScreen</span><span class="p">({</span> <span class="nx">navigation</span> <span class="p">})</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=&gt;</span>
      <span class="o">&lt;</span><span class="nx">Button</span>
        <span class="nx">title</span><span class="o">=</span><span class="dl">"</span><span class="s2">Go to Notifications</span><span class="dl">"</span>
        <span class="nx">onPress</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">navigation</span><span class="p">.</span><span class="nf">navigate</span><span class="p">(</span><span class="dl">'</span><span class="s1">Notifications</span><span class="dl">'</span><span class="p">)}</span>
      <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">title</span><span class="o">=</span><span class="dl">"</span><span class="s2">Go back</span><span class="dl">"</span> <span class="nx">onPress</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">navigation</span><span class="p">.</span><span class="nf">goBack</span><span class="p">()}</span> <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">NotificationsScreen</span><span class="p">({</span> <span class="nx">navigation</span> <span class="p">})</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=&gt;</span>
      <span class="o">&lt;</span><span class="nx">Button</span>
        <span class="nx">title</span><span class="o">=</span><span class="dl">"</span><span class="s2">Go to Settings</span><span class="dl">"</span>
        <span class="nx">onPress</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">navigation</span><span class="p">.</span><span class="nf">navigate</span><span class="p">(</span><span class="dl">'</span><span class="s1">Settings</span><span class="dl">'</span><span class="p">)}</span>
      <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">title</span><span class="o">=</span><span class="dl">"</span><span class="s2">Go back</span><span class="dl">"</span> <span class="nx">onPress</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">navigation</span><span class="p">.</span><span class="nf">goBack</span><span class="p">()}</span> <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">SettingsScreen</span><span class="p">({</span> <span class="nx">navigation</span> <span class="p">})</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=&gt;</span>
      <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">title</span><span class="o">=</span><span class="dl">"</span><span class="s2">Go back</span><span class="dl">"</span> <span class="nx">onPress</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">navigation</span><span class="p">.</span><span class="nf">goBack</span><span class="p">()}</span> <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">Stack</span> <span class="o">=</span> <span class="nf">createNativeStackNavigator</span><span class="p">();</span>

<span class="kd">function</span> <span class="nf">MyStack</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Stack</span><span class="p">.</span><span class="nx">Navigator</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Stack</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Home</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">HomeScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Stack</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Notifications</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">NotificationsScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Stack</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Profile</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">ProfileScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Stack</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Settings</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">SettingsScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Stack.Navigator</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">NavigationContainer</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">MyStack</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/NavigationContainer</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<p>è¿™é‡Œ<code class="language-plaintext highlighter-rouge">createNativeStackNavigator</code>åˆ›å»ºäº†ä¸€ä¸ª<code class="language-plaintext highlighter-rouge">stack</code>,åœ¨ä¸åŒçš„é¡µé¢ä¹‹é—´ï¼Œç‚¹å‡»<code class="language-plaintext highlighter-rouge">Button</code>è§¦å‘<code class="language-plaintext highlighter-rouge">navigation.navigate</code>å¯¼èˆªåˆ°ç‰¹å®šåå­—çš„é¡µé¢ï¼Œæˆ–è€…è§¦å‘<code class="language-plaintext highlighter-rouge">navigation.goBack</code>è¿”å›ä¸Šä¸€çº§é¡µé¢ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯çœŸæœºçš„è¯ï¼Œåé€€æ‰‹åŠ¿ä¹Ÿå¯ä»¥è¿”å›ä¸Šä¸€çº§é¡µé¢ã€‚å®ç°çš„æ•ˆæœå¦‚ä¸‹ï¼š</p>

<p><img src="/assets/my_pics/stack%2000_00_00-00_00_30.gif" alt="show" /></p>

<p>åŒæ ·ï¼Œè¿™é‡Œé»˜è®¤è¿˜æ˜¯ä¼šæ˜¾ç¤ºheaderçš„ï¼Œå¦‚æœæˆ‘ä»¬ä¸æƒ³æ˜¾ç¤ºheaderçš„è¯ï¼Œä¹Ÿå¯ä»¥åœ¨<code class="language-plaintext highlighter-rouge">Stack.Navigator</code>é‡Œé¢æ·»åŠ <code class="language-plaintext highlighter-rouge">headerShown: false</code>å±æ€§ï¼ŒåŸåˆ™ä¸Šç¬¬ä¸€ä¸ªé¡µé¢æ˜¯æ‰“å¼€çš„é»˜è®¤é¡µé¢ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨<code class="language-plaintext highlighter-rouge">initialRouteName</code>æŒ‡å®šé»˜è®¤é¡µé¢ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">Stack</span><span class="p">.</span><span class="nx">Navigator</span> 
    <span class="nx">initialRouteName</span><span class="o">=</span><span class="dl">"</span><span class="s2">Notifications</span><span class="dl">"</span>
    <span class="nx">screenOptions</span><span class="o">=</span><span class="p">{{</span><span class="na">headerShown</span><span class="p">:</span> <span class="kc">false</span><span class="p">}}</span>
    <span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">Stack</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Home</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">HomeScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">Stack</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Notifications</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">NotificationsScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">Stack</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Profile</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">ProfileScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">Stack</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Settings</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">SettingsScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/Stack.Navigator</span><span class="err">&gt;
</span></code></pre></div></div>
<h3 id="è¿›é˜¶ä¸åŒnavigatorä¹‹é—´çš„åµŒå¥—">è¿›é˜¶ï¼šä¸åŒnavigatorä¹‹é—´çš„åµŒå¥—</h3>
<p>å¦‚æœæˆ‘ä»¬å¸Œæœ›åšä¸€ä¸ªè´­ç‰©ç½‘ç«™ï¼Œæµè§ˆé¡µåº•éƒ¨æ˜¾ç¤ºtabå¯¼èˆªæ ï¼Œè¯¦æƒ…é¡µé¢ç­‰ä¸€äº›é¡µé¢ä¸æ˜¾ç¤ºåº•éƒ¨çš„tabå¯¼èˆªæ ï¼Œé‚£æˆ‘ä»¬å¯ä»¥å°†tabå¯¼èˆªæ åŒ…è£¹åä½œä¸ºä¸€ä¸ª<code class="language-plaintext highlighter-rouge">stack.screen</code>ï¼Œè€Œå…¶ä»–ä¸éœ€è¦æ˜¾ç¤ºåº•éƒ¨tabå¯¼èˆªæ çš„ä¹Ÿä½œä¸ºåŒçº§çš„<code class="language-plaintext highlighter-rouge">stack.screen</code>ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">createBottomTabNavigator</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/bottom-tabs</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">NavigationContainer</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">createNativeStackNavigator</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/native-stack</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Tab</span> <span class="o">=</span> <span class="nf">createBottomTabNavigator</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">Route</span> <span class="o">=</span> <span class="nf">createNativeStackNavigator</span><span class="p">();</span>

<span class="k">export</span> <span class="kd">function</span> <span class="nf">TabWrapper</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Navigator</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Screen</span>
        <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">é¦–é¡µ</span><span class="dl">"</span>
        <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">HomeScreenWrapper</span><span class="p">}</span>
        <span class="nx">options</span><span class="o">=</span>
      <span class="sr">/</span><span class="err">&gt;
</span>      <span class="p">.....</span>
    <span class="o">&lt;</span><span class="sr">/Tab.Navigator</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">NativeBaseProvider</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">NavigationContainer</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">Route</span><span class="p">.</span><span class="nx">Navigator</span>
          <span class="nx">initialRouteName</span><span class="o">=</span><span class="dl">"</span><span class="s2">Welcome</span><span class="dl">"</span>
          <span class="nx">screenOptions</span><span class="o">=&gt;</span>
          <span class="o">&lt;</span><span class="nx">Route</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Detail</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">DetailScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>          <span class="p">......</span>
          <span class="o">&lt;</span><span class="nx">Route</span><span class="p">.</span><span class="nx">Screen</span>
            <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">TabWrapper</span><span class="dl">"</span>
            <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">TabWrapper</span><span class="p">}</span>
            <span class="nx">options</span><span class="o">=</span>
          <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/Route.Navigator</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/NavigationContainer</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/NativeBaseProvider</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="drawer-navigation">Drawer Navigation</h2>
<h3 id="åŸºæœ¬ç”¨æ³•-1">åŸºæœ¬ç”¨æ³•</h3>
<p><code class="language-plaintext highlighter-rouge">Drawer Navigation</code>å®ç°äº†ä¸€ä¸ªå·¦ä¾§çš„å¯æ”¶èµ·å¯¼èˆªæ ï¼ŒåŸºæœ¬ä½¿ç”¨æ–¹æ³•å¯è§<a href="https://reactnavigation.org/docs/drawer-based-navigation">å®˜æ–¹æ–‡æ¡£</a></p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Button</span><span class="p">,</span> <span class="nx">View</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createDrawerNavigator</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/drawer</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">NavigationContainer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/native</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">HomeScreen</span><span class="p">({</span> <span class="nx">navigation</span> <span class="p">})</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=&gt;</span>
      <span class="o">&lt;</span><span class="nx">Button</span>
        <span class="nx">onPress</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">navigation</span><span class="p">.</span><span class="nf">navigate</span><span class="p">(</span><span class="dl">'</span><span class="s1">Notifications</span><span class="dl">'</span><span class="p">)}</span>
        <span class="nx">title</span><span class="o">=</span><span class="dl">"</span><span class="s2">Go to notifications</span><span class="dl">"</span>
      <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">NotificationsScreen</span><span class="p">({</span> <span class="nx">navigation</span> <span class="p">})</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=&gt;</span>
      <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onPress</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">navigation</span><span class="p">.</span><span class="nf">goBack</span><span class="p">()}</span> <span class="nx">title</span><span class="o">=</span><span class="dl">"</span><span class="s2">Go back home</span><span class="dl">"</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">Drawer</span> <span class="o">=</span> <span class="nf">createDrawerNavigator</span><span class="p">();</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">NavigationContainer</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Drawer</span><span class="p">.</span><span class="nx">Navigator</span> <span class="nx">useLegacyImplementation</span> <span class="nx">initialRouteName</span><span class="o">=</span><span class="dl">"</span><span class="s2">Home</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">Drawer</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Home</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">HomeScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">Drawer</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Notifications</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">NotificationsScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/Drawer.Navigator</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/NavigationContainer</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<p>åœ¨<code class="language-plaintext highlighter-rouge">Drawer Navigator</code>ä¸­ä¹Ÿå¯ä»¥ç”¨è§¦å‘<code class="language-plaintext highlighter-rouge">navigation.navigate</code>å¯¼èˆªåˆ°ç‰¹å®šåå­—çš„é¡µé¢ï¼Œæˆ–è€…è§¦å‘<code class="language-plaintext highlighter-rouge">navigation.goBack</code>è¿”å›ä¸Šä¸€çº§é¡µé¢,æˆ–è€…ä½¿ç”¨çœŸæœºå›é€€æ‰‹åŠ¿å®ç°é¡µé¢çš„å›é€€ï¼›å’Œ<code class="language-plaintext highlighter-rouge">Tab Navigator</code>ä¸€æ ·ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥å°†<code class="language-plaintext highlighter-rouge">Drawer Navigator</code>åµŒå¥—åˆ°<code class="language-plaintext highlighter-rouge">Stack Navigator</code>ã€‚æ ·ä¾‹çš„æ•ˆæœå¦‚ä¸‹ï¼š</p>

<p><img src="/assets/my_pics/drawer%2000_00_00-00_00_30.gif" alt="show" /></p>

<h3 id="è¿›é˜¶å‚æ•°ä¼ é€’">è¿›é˜¶ï¼šå‚æ•°ä¼ é€’</h3>
<p>å‡å¦‚æˆ‘ä»¬å¸Œæœ›ä½¿ç”¨<code class="language-plaintext highlighter-rouge">Drawer Navigator</code>å®ç°ä¸€ä¸ªåˆ†ç±»é¡µé¢ï¼Œæ¸²æŸ“æ•ˆæœåŸºæœ¬ç›¸åŒï¼Œä½†æ˜¯ä¼ é€’çš„å‚æ•°ä¸åŒå¯¼è‡´å†…å®¹ä¸åŒï¼Œä¸ºäº†ä¸ç®€å•åœ°å°†æ¸²æŸ“æ•ˆæœçš„ä»£ç ç®€å•å¤åˆ¶ç²˜è´´å¤šéï¼Œé€ æˆå¤§é‡ä»£ç å†—ä½™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ª<code class="language-plaintext highlighter-rouge">SwitchScreen{i}</code>ä½œä¸ºä¸­é—´æ¡¥æ¢ï¼Œä¸åŒçš„<code class="language-plaintext highlighter-rouge">SwitchScreen</code>å‘æœ€ç»ˆæ¸²æŸ“æ•ˆæœçš„<code class="language-plaintext highlighter-rouge">RenderScreen</code>ä¼ é€’ä¸åŒçš„å‚æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span><span class="nx">useState</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">ActivityIndicator</span><span class="p">,</span> <span class="nx">Button</span><span class="p">,</span> <span class="nx">View</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">createDrawerNavigator</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/drawer</span><span class="dl">'</span><span class="p">;</span>


<span class="kd">const</span> <span class="nx">RenderScreen</span> <span class="o">=</span> <span class="nx">props</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">RenderScreen props:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">props</span><span class="p">);</span>

    <span class="nx">React</span><span class="p">.</span><span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="p">....</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="p">[]);</span>

    <span class="k">return </span><span class="p">(</span>
        <span class="p">.....</span>
    <span class="p">);</span>
<span class="p">};</span>

<span class="c1">// SwtichScreen ç”¨äºä¸åŒç±»åˆ«é¡µé¢çš„æ¸²æŸ“ï¼Œèµ·åˆ°æ¡¥æ¢ä½œç”¨</span>
<span class="kd">function</span> <span class="nf">SwitchScreen1</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">RenderScreen</span> <span class="nx">props</span><span class="o">=</span><span class="dl">"</span><span class="s2">é»˜è®¤</span><span class="dl">"</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">SwitchScreen2</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">RenderScreen</span> <span class="nx">props</span><span class="o">=</span><span class="dl">"</span><span class="s2">ç±»åˆ«1</span><span class="dl">"</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">SwitchScreen3</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">RenderScreen</span> <span class="nx">props</span><span class="o">=</span><span class="dl">"</span><span class="s2">ç±»åˆ«2</span><span class="dl">"</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">SwitchScreen4</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">RenderScreen</span> <span class="nx">props</span><span class="o">=</span><span class="dl">"</span><span class="s2">ç±»åˆ«3</span><span class="dl">"</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">SwitchScreen5</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">RenderScreen</span> <span class="nx">props</span><span class="o">=</span><span class="dl">"</span><span class="s2">ç±»åˆ«4</span><span class="dl">"</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">SwitchScreen6</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">RenderScreen</span> <span class="nx">props</span><span class="o">=</span><span class="dl">"</span><span class="s2">ç±»åˆ«5</span><span class="dl">"</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">Drawer</span> <span class="o">=</span> <span class="nf">createDrawerNavigator</span><span class="p">();</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">BrowseScreen</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Drawer</span><span class="p">.</span><span class="nx">Navigator</span>
      <span class="nx">useLegacyImplementation</span>
      <span class="nx">initialRouteName</span><span class="o">=</span><span class="dl">"</span><span class="s2">é»˜è®¤</span><span class="dl">"</span>
      <span class="nx">drawerBackgroundColor</span><span class="o">=</span><span class="dl">"</span><span class="s2">#fda4af</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Drawer</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">é»˜è®¤</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">SwitchScreen1</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Drawer</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">ç±»åˆ«1</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">SwitchScreen2</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Drawer</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">ç±»åˆ«2</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">SwitchScreen3</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Drawer</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">ç±»åˆ«3</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">SwitchScreen4</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Drawer</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">ç±»åˆ«4</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">SwitchScreen5</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Drawer</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">ç±»åˆ«5</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">SwitchScreen6</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Drawer.Navigator</span><span class="err">&gt;
</span>  <span class="p">);</span>
</code></pre></div></div>]]></content><author><name>Haoru</name></author><category term="React-Native" /><summary type="html"><![CDATA[react-navigation 6.xç‰ˆæœ¬çš„å®‰è£…ã€ä¼ å‚ã€navigatorçš„ä½¿ç”¨ç­‰ä»‹ç»ï¼ˆpart2ï¼‰ã€‚]]></summary></entry><entry><title type="html">react-navigation 6.x ä½¿ç”¨æŒ‡å— (1)</title><link href="http://localhost:4000/2022/09/18/react-navigation_1.html" rel="alternate" type="text/html" title="react-navigation 6.x ä½¿ç”¨æŒ‡å— (1)" /><published>2022-09-18T00:00:00+08:00</published><updated>2022-09-18T00:00:00+08:00</updated><id>http://localhost:4000/2022/09/18/react-navigation_1</id><content type="html" xml:base="http://localhost:4000/2022/09/18/react-navigation_1.html"><![CDATA[<p>react-navigation 6.xç‰ˆæœ¬çš„å®‰è£…ã€ä¼ å‚ã€navigatorçš„ä½¿ç”¨ç­‰ä»‹ç»ï¼ˆpart1ï¼‰ã€‚
<!--more--></p>

<p>ç›®å‰react-navigationçš„å®˜æ–¹æ–‡æ¡£å·²ç»æ›´æ–°åˆ°äº†<code class="language-plaintext highlighter-rouge">6.x</code>ç‰ˆæœ¬ï¼Œåœ¨<a href="https://reactnavigation.org/docs/getting-started/">å®˜æ–¹æ–‡æ¡£</a>ä¸­å¯¹äºå…¶åŸºæœ¬çš„ä½¿ç”¨æ–¹æ³•ä¹Ÿæœ‰æ‰€ä»‹ç»ï¼Œä½†æ˜¯å¯¹äºä¸€äº›æ¯”è¾ƒå¤æ‚çš„ä½¿ç”¨åœºæ™¯ï¼Œæˆ–è€…ä¼ å‚ç­‰ç»†èŠ‚é—®é¢˜å¹¶æ²¡æœ‰ç»™å‡ºè¯¦ç»†çš„è§£å†³æ–¹æ¡ˆã€‚</p>

<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä»‹ç»<code class="language-plaintext highlighter-rouge">react-navigation</code>çš„å®‰è£…ä¸<code class="language-plaintext highlighter-rouge">Tab navigation</code>çš„ä½¿ç”¨</p>

<h2 id="ä½¿ç”¨npmå®‰è£…å’Œå¸è½½">ä½¿ç”¨npmå®‰è£…å’Œå¸è½½</h2>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="nt">--save</span> react-navigation 
npm <span class="nb">install </span>react-native-reanimated react-native-gesture-handler react-native-screens react-native-safe-area-context @react-native-community/masked-view // å®‰è£…ç›¸å…³çš„ä¾èµ–

// åœ¨babel.config.jsçš„module.exportsä¸­å¢åŠ è¿™å¥ï¼š
plugins: <span class="o">[</span><span class="s1">'react-native-reanimated/plugin'</span><span class="o">]</span>

// å¸è½½
npm uninstall react-navigation <span class="nt">--save</span>
</code></pre></div></div>
<h2 id="tab-navigationçš„ä½¿ç”¨">Tab navigationçš„ä½¿ç”¨</h2>
<h3 id="åŸºç¡€ç”¨æ³•å®˜æ–¹æ–‡æ¡£ä¸­çš„ç¤ºä¾‹">åŸºç¡€ç”¨æ³•ï¼šå®˜æ–¹æ–‡æ¡£ä¸­çš„ç¤ºä¾‹</h3>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">View</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">NavigationContainer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createBottomTabNavigator</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/bottom-tabs</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">HomeScreen</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=&gt;</span>
      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">Home</span><span class="o">!&lt;</span><span class="sr">/Text</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">SettingsScreen</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=&gt;</span>
      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">Settings</span><span class="o">!&lt;</span><span class="sr">/Text</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">Tab</span> <span class="o">=</span> <span class="nf">createBottomTabNavigator</span><span class="p">();</span>

<span class="kd">function</span> <span class="nf">MyTabs</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Navigator</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Home</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">HomeScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Settings</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">SettingsScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Tab.Navigator</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">NavigationContainer</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">MyTabs</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/NavigationContainer</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<p><strong>å®ç°æ•ˆæœ</strong>ï¼šåº•éƒ¨æœ‰ä¸€ä¸ªæœ€åŸºç¡€çš„çš„å¯¼èˆªæ ï¼Œæ²¡æœ‰å›¾æ ‡ï¼Œé¡¶ä¸Šé»˜è®¤ä¼šæœ‰ä¸€ä¸ªheaderï¼Œå’Œ<code class="language-plaintext highlighter-rouge">Tab.Screen</code>çš„<code class="language-plaintext highlighter-rouge">name</code>ç›¸ä¸€è‡´ã€‚</p>

<p><img src="/assets/my_pics/tab_nav.png" alt="tab_nav" /></p>

<h3 id="è¿›é˜¶1æ·»åŠ å›¾æ ‡">è¿›é˜¶1:æ·»åŠ å›¾æ ‡</h3>
<p>å®˜æ–¹æ–‡æ¡£ä¸­çš„ç¤ºä¾‹ï¼š</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">View</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Ionicons</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@expo/vector-icons</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">NavigationContainer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createBottomTabNavigator</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/bottom-tabs</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">HomeScreen</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=&gt;</span>
      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">Home</span><span class="o">!&lt;</span><span class="sr">/Text</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">SettingsScreen</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=&gt;</span>
      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">Settings</span><span class="o">!&lt;</span><span class="sr">/Text</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/View</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">Tab</span> <span class="o">=</span> <span class="nf">createBottomTabNavigator</span><span class="p">();</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return </span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">NavigationContainer</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Navigator</span>
        <span class="nx">screenOptions</span><span class="o">=</span><span class="p">{({</span> <span class="nx">route</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">({</span>
          <span class="na">tabBarIcon</span><span class="p">:</span> <span class="p">({</span> <span class="nx">focused</span><span class="p">,</span> <span class="nx">color</span><span class="p">,</span> <span class="nx">size</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">if </span><span class="p">(</span><span class="nx">route</span><span class="p">.</span><span class="nx">name</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">Home</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
              <span class="k">return </span><span class="p">(</span>
                <span class="o">&lt;</span><span class="nx">Ionicons</span>
                  <span class="nx">name</span><span class="o">=</span><span class="p">{</span>
                    <span class="nx">focused</span>
                      <span class="p">?</span> <span class="dl">'</span><span class="s1">ios-information-circle</span><span class="dl">'</span>
                      <span class="p">:</span> <span class="dl">'</span><span class="s1">ios-information-circle-outline</span><span class="dl">'</span>
                  <span class="p">}</span>
                  <span class="nx">size</span><span class="o">=</span><span class="p">{</span><span class="nx">size</span><span class="p">}</span>
                  <span class="nx">color</span><span class="o">=</span><span class="p">{</span><span class="nx">color</span><span class="p">}</span>
                <span class="sr">/</span><span class="err">&gt;
</span>              <span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">route</span><span class="p">.</span><span class="nx">name</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">Settings</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
              <span class="k">return </span><span class="p">(</span>
                <span class="o">&lt;</span><span class="nx">Ionicons</span>
                  <span class="nx">name</span><span class="o">=</span><span class="p">{</span><span class="nx">focused</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">ios-list-box</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">ios-list</span><span class="dl">'</span><span class="p">}</span>
                  <span class="nx">size</span><span class="o">=</span><span class="p">{</span><span class="nx">size</span><span class="p">}</span>
                  <span class="nx">color</span><span class="o">=</span><span class="p">{</span><span class="nx">color</span><span class="p">}</span>
                <span class="sr">/</span><span class="err">&gt;
</span>              <span class="p">);</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="na">tabBarInactiveTintColor</span><span class="p">:</span> <span class="dl">'</span><span class="s1">gray</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">tabBarActiveTintColor</span><span class="p">:</span> <span class="dl">'</span><span class="s1">tomato</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">})}</span>
      <span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Screen</span>
          <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Home</span><span class="dl">"</span>
          <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">HomeScreen</span><span class="p">}</span>
          <span class="nx">options</span><span class="o">=</span> <span class="p">{{</span> <span class="na">tabBarBadge</span><span class="p">:</span> <span class="mi">3</span> <span class="p">}}</span>
        <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Screen</span> <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">Settings</span><span class="dl">"</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">SettingsScreen</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/Tab.Navigator</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/NavigationContainer</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<p>å¦‚æœæƒ³è¦ä½¿ç”¨iconçš„è¯ï¼Œéœ€è¦åœ¨<code class="language-plaintext highlighter-rouge">Tab.Navigator</code>çš„<code class="language-plaintext highlighter-rouge">screenOption</code>ä¸­è®¾ç½®<code class="language-plaintext highlighter-rouge">tabBarIcon</code>çš„æ¸²æŸ“æ•ˆæœï¼Œæ ¹æ®é¡µé¢<code class="language-plaintext highlighter-rouge">name</code>å’Œæ˜¯å¦ä¸ºé€‰ä¸­é¡µé¢<code class="language-plaintext highlighter-rouge">focused</code>è®¾ç½®ä¸åŒçš„å›¾æ ‡ï¼ˆ<code class="language-plaintext highlighter-rouge">&lt;Ionicons ... /&gt;</code>)ï¼Œè¿˜å¯ä»¥æ ¹æ®<code class="language-plaintext highlighter-rouge">tabBarInactiveTintColor</code>å’Œ<code class="language-plaintext highlighter-rouge">tabBarActiveTintColor</code>è®¾ç½®å›¾æ ‡é¢œè‰²ï¼Œåœ¨<code class="language-plaintext highlighter-rouge">Tab.Screen</code>ä¸­è®¾ç½®<code class="language-plaintext highlighter-rouge">tabBarBadge</code>å¯ä»¥åœ¨å›¾æ ‡ä¸Šæ·»åŠ ä¸€ä¸ªå°çº¢ç‚¹ï¼Œå¹¶æŒ‡ç¤ºæ•°å­—ï¼Œæ¸²æŸ“æ•ˆæœå¦‚ä¸‹ï¼š</p>

<p><img src="/assets/my_pics/tab_nav_with_icon.png" alt="tab_nav_with_icon" /></p>

<p>åœ¨å®˜æ–¹ç¤ºä¾‹ä¸­ï¼Œå¯¹äºæ¯ä¸€ä¸ªå›¾æ ‡éƒ½è¦å†™ä¸€æ¬¡<code class="language-plaintext highlighter-rouge">&lt;Ionicons ... /&gt;</code>ï¼Œå¤ªè¿‡äºç¹çï¼›å¹¶ä¸”<code class="language-plaintext highlighter-rouge">@expo/vector-icons</code>çš„å›¾æ ‡å¯èƒ½åœ¨<code class="language-plaintext highlighter-rouge">react native</code>çš„åŸç”Ÿç¯å¢ƒä¸­ä¸èƒ½å¾ˆå¥½åœ°æ¸²æŸ“ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥åšå‡ºè¿™æ ·çš„æ”¹è¿›ï¼š</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">extendTheme</span><span class="p">,</span> <span class="nx">NativeBaseProvider</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">native-base</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">HomeScreenWrapper</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./screens/HomeScreen</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">Icon</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">native-base</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">BrowseScreen</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./screens/BrowseScreen</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">MyProfileScreenRoute</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./screens/MyProfileScreen</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">OrderScreen</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./screens/OrderScreen</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">CreateGroupScreen</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./screens/CreateGroupScreen</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">createBottomTabNavigator</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/bottom-tabs</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">NavigationContainer</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@react-navigation/native</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">AntDesign</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-native-vector-icons/AntDesign</span><span class="dl">'</span><span class="p">;</span>

<span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Navigator</span>
      <span class="nx">screenOptions</span><span class="o">=</span><span class="p">{({</span><span class="nx">route</span><span class="p">})</span> <span class="o">=&gt;</span> <span class="p">({</span>
        <span class="na">headerStyle</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">backgroundColor</span><span class="p">:</span> <span class="dl">'</span><span class="s1">#fda4af</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="na">headerTintColor</span><span class="p">:</span> <span class="dl">'</span><span class="s1">#fff</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">headerTitleStyle</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">fontWeight</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bold</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="na">tabBarIcon</span><span class="p">:</span> <span class="p">({</span><span class="nx">focused</span><span class="p">,</span> <span class="nx">color</span><span class="p">,</span> <span class="nx">size</span><span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="kd">let</span> <span class="nx">iconName</span><span class="p">;</span>

          <span class="k">if </span><span class="p">(</span><span class="nx">route</span><span class="p">.</span><span class="nx">name</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">é¦–é¡µ</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">iconName</span> <span class="o">=</span> <span class="nx">focused</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">home</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">home</span><span class="dl">'</span><span class="p">;</span>
          <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">route</span><span class="p">.</span><span class="nx">name</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">é™„è¿‘æ‹¼å›¢</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">iconName</span> <span class="o">=</span> <span class="nx">focused</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">appstore-o</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">appstore-o</span><span class="dl">'</span><span class="p">;</span>
          <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">route</span><span class="p">.</span><span class="nx">name</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">è®¢å•</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">iconName</span> <span class="o">=</span> <span class="nx">focused</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">redenvelopes</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">redenvelopes</span><span class="dl">'</span><span class="p">;</span>
          <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">route</span><span class="p">.</span><span class="nx">name</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">ä¸ªäºº</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">iconName</span> <span class="o">=</span> <span class="nx">focused</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span><span class="p">;</span>
          <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">route</span><span class="p">.</span><span class="nx">name</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">ä¸€é”®å¼€å›¢</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">iconName</span> <span class="o">=</span> <span class="nx">focused</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">rocket1</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">rocket1</span><span class="dl">'</span><span class="p">;</span>
          <span class="p">}</span>

          <span class="c1">// You can return any component that you like here!</span>
          <span class="k">return </span><span class="p">(</span>
            <span class="o">&lt;</span><span class="nx">Icon</span> <span class="k">as</span><span class="o">=</span><span class="p">{</span><span class="nx">AntDesign</span><span class="p">}</span> <span class="nx">name</span><span class="o">=</span><span class="p">{</span><span class="nx">iconName</span><span class="p">}</span> <span class="nx">size</span><span class="o">=</span><span class="p">{</span><span class="nx">size</span><span class="p">}</span> <span class="nx">color</span><span class="o">=</span><span class="p">{</span><span class="nx">color</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>          <span class="p">);</span>
        <span class="p">},</span>
        <span class="na">tabBarActiveTintColor</span><span class="p">:</span> <span class="dl">'</span><span class="s1">tomato</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">tabBarInactiveTintColor</span><span class="p">:</span> <span class="dl">'</span><span class="s1">gray</span><span class="dl">'</span><span class="p">,</span>
      <span class="p">})}</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Screen</span>
        <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">é¦–é¡µ</span><span class="dl">"</span>
        <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">HomeScreenWrapper</span><span class="p">}</span>
      <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Screen</span>
        <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">é™„è¿‘æ‹¼å›¢</span><span class="dl">"</span>
        <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">BrowseScreen</span><span class="p">}</span>
      <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Screen</span>
        <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">ä¸€é”®å¼€å›¢</span><span class="dl">"</span>
        <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">CreateGroupScreen</span><span class="p">}</span>
      <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Screen</span>
        <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">è®¢å•</span><span class="dl">"</span>
        <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">OrderScreen</span><span class="p">}</span>
      <span class="sr">/</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Screen</span>
        <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">ä¸ªäºº</span><span class="dl">"</span>
        <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">MyProfileScreenRoute</span><span class="p">}</span>
      <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Tab.Navigator</span><span class="err">&gt;
</span></code></pre></div></div>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code class="language-plaintext highlighter-rouge">iconName</code>è®°å½•äº†åº”æ¸²æŸ“å›¾æ ‡çš„åå­—ï¼Œæœ€ååªéœ€è¦<code class="language-plaintext highlighter-rouge">return &lt;Icon as={AntDesign} name={iconName} size={size} color={color} /&gt; </code> ä¸€æ¬¡å³å¯ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„å›¾æ ‡æ˜¯<code class="language-plaintext highlighter-rouge">AntDesign</code> + <code class="language-plaintext highlighter-rouge">native-base</code>é‡Œé¢çš„icon,ç»è¯•éªŒèƒ½å¤Ÿåœ¨<code class="language-plaintext highlighter-rouge">react-native</code>çš„ç¯å¢ƒä¸­æœ‰æ¯”è¾ƒå¥½çš„æ¸²æŸ“æ•ˆæœï¼Œæœ€åæ•ˆæœå¦‚ä¸‹ï¼š</p>

<p><img src="/assets/my_pics/my_tab.png" alt="my_tab" /></p>

<h3 id="è¿›é˜¶2ä¸æ˜¾ç¤ºheader">è¿›é˜¶2ï¼šä¸æ˜¾ç¤ºheader</h3>
<p>åœ¨ä»¥ä¸Šçš„å‡ ç§å®ç°ä¸­ï¼Œéƒ½ä¼šæºå¸¦é»˜è®¤çš„headerï¼Œåœ¨<code class="language-plaintext highlighter-rouge">Tab.Navigator</code>çš„<code class="language-plaintext highlighter-rouge">screenOption</code>ä¸­è®¾ç½®<code class="language-plaintext highlighter-rouge">headerStyle</code>ã€<code class="language-plaintext highlighter-rouge">headerTitleStyle</code>ç­‰å±æ€§è¿˜å¯ä»¥æ”¹å˜headerçš„èƒŒæ™¯é¢œè‰²ã€å­—ä½“é£æ ¼ç­‰ç­‰ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬ä¸æƒ³æ˜¾ç¤ºheaderçš„è¯ï¼Œå°±éœ€è¦åœ¨<code class="language-plaintext highlighter-rouge">Tab.Screen</code>çš„<code class="language-plaintext highlighter-rouge">options</code>ä¸­å°†<code class="language-plaintext highlighter-rouge">headerShown</code>è®¾ä¸º<code class="language-plaintext highlighter-rouge">false</code>ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="o">&lt;</span><span class="nx">Tab</span><span class="p">.</span><span class="nx">Screen</span>
        <span class="nx">name</span><span class="o">=</span><span class="dl">"</span><span class="s2">é¦–é¡µ</span><span class="dl">"</span>
        <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">HomeScreenWrapper</span><span class="p">}</span>
        <span class="nx">options</span><span class="o">=</span> <span class="p">{{</span><span class="na">headerShown</span><span class="p">:</span> <span class="kc">false</span><span class="p">}}</span>
      <span class="sr">/</span><span class="err">&gt;
</span></code></pre></div></div>
<p>åœ¨è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±çœ‹ä¸åˆ°headeräº†ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>

<p><img src="/assets/my_pics/witho.png" alt="without_header" /></p>]]></content><author><name>Haoru</name></author><category term="React-Native" /><summary type="html"><![CDATA[react-navigation 6.xç‰ˆæœ¬çš„å®‰è£…ã€ä¼ å‚ã€navigatorçš„ä½¿ç”¨ç­‰ä»‹ç»ï¼ˆpart1ï¼‰ã€‚]]></summary></entry></feed>